## Log Event: `LogEmitted`

**Description:** Records a log message generated by a system component. These events are used for observability, debugging, and monitoring.
**Produced By:** Any system component.
**Consumed By:** `system.Monitoring`, `system.Orchestrator`
**Lifecycle Stage:** Emitted whenever a component needs to record a log entry.
**NATS Communication Pattern:** Asynchronous

### NATS Subject Pattern

`compozy.<correlation_id>.<component>.logs.<component_id>.<log_level>`

### JSON Payload Structure

```json
{
  "metadata": {
    "correlation_id": "<uuid>",
    "event_timestamp": "2025-05-15T10:30:00Z",
    "source_component": "system.Runtime",
    "created_by": "system"
  },
  "workflow": {
    "id": "<workflow_definition_id>",
    "exec_id": "<workflow_execution_id>"
  },
  "task": {
    "id": "<task_definition_id>",
    "exec_id": "<task_execution_id>"
  },
  "agent": {
    "id": "<agent_definition_id>",
    "exec_id": "<agent_execution_id>"
  },
  "tool": {
    "id": "<tool_definition_id>",
    "exec_id": "<tool_execution_id>"
  },
  "payload": {
    "component": "workflow",
    "component_id": "workflow-123",
    "log_level": "info",
    "message": "Task 'send_invoice' started successfully.",
    "timestamp": "2025-05-15T10:30:00Z",
    "context": {
      "user_id": "user-789",
      "invoice_id": "inv-001",
      "attempt": 1
    },
  }
}
```

### Payload Properties

The `payload` object contains the following fields:
-   **`log_level`** (`string`, Required): The severity level of the log.
    -   Enum: `"debug"`, `"info"`, `"warn"`, `"error"`.
-   **`message`** (`string`, Required): The log message content.
-   **`timestamp`** (`string`, ISO8601, Required): The exact time the log entry was created by the source component.
-   **`context`** (`object`, Optional): A map of key-value pairs providing additional structured context for the log entry.
