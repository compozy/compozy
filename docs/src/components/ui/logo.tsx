import { cn } from "@/lib/utils";
import Image from "next/image";
import { tv, type VariantProps } from "tailwind-variants";

const logoVariants = tv({
  slots: {
    base: "flex items-center gap-2",
    image: "",
    svg: "fill-current mt-1",
  },
  variants: {
    size: {
      sm: {
        image: "size-6",
        svg: "h-[18px] w-[87px]",
      },
      md: {
        image: "size-8",
        svg: "h-[24px] w-[116px]",
      },
      lg: {
        image: "size-10",
        svg: "h-[30px] w-[145px]",
      },
    },
    variant: {
      symbol: {
        base: "flex items-center",
      },
      lettering: {
        base: "flex items-center",
      },
      full: {
        base: "flex items-center gap-2",
      },
    },
  },
  defaultVariants: {
    size: "md",
    variant: "full",
  },
});

type LogoVariants = VariantProps<typeof logoVariants>;

export interface LogoProps extends LogoVariants {
  className?: string;
}

export function Logo({ className, size = "md", variant = "full" }: LogoProps) {
  const styles = logoVariants({ size, variant });

  const imageSizes = {
    sm: { width: 24, height: 24 },
    md: { width: 32, height: 32 },
    lg: { width: 40, height: 40 },
  };

  const imageSize = imageSizes[size];
  const showSymbol = variant === "symbol" || variant === "full";
  const showLettering = variant === "lettering" || variant === "full";

  return (
    <div className={cn(styles.base(), className)}>
      {showSymbol && (
        <Image
          src="/symbol.png"
          alt="Compozy Symbol"
          width={imageSize.width}
          height={imageSize.height}
          className={styles.image()}
        />
      )}
      {showLettering && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          viewBox="0 0 116 24"
          className={styles.svg()}
        >
          <path d="M102.65,23.88c-.73,0-1.3-.23-1.72-.69-.42-.46-.64-1.15-.66-2.05.6.11,1.1.17,1.52.17.93,0,1.67-.26,2.22-.79.55-.53,1.13-1.49,1.75-2.88l.6-1.39L99.9.43c.15-.07.38-.12.66-.17.29-.07.54-.1.76-.1.53.02,1,.15,1.42.4.44.24.74.57.89.99l4.13,10.62-.5,1.42.23.1,4.76-12.14c.15-.44.44-.78.86-1.03.42-.24.89-.36,1.42-.36.22,0,.47.03.76.1.31.04.53.1.66.17l-7.41,18.16c-.73,1.79-1.55,3.11-2.48,3.97-.9.88-2.05,1.32-3.44,1.32Z" />
          <path d="M86.29,17c-.37,0-.68-.13-.93-.4-.24-.29-.36-.62-.36-.99,0-.31.09-.58.26-.83l10.55-12.6-.17-.13-.86.96h-7.21c-.68,0-1.21-.23-1.59-.69-.35-.46-.53-1.08-.53-1.85h12.57c.4,0,.71.13.93.4.24.24.36.54.36.89,0,.37-.11.68-.33.93l-10.45,12.54.17.17.79-.93h7.81c.68,0,1.2.24,1.55.73.37.46.56,1.07.56,1.82h-13.13Z" />
          <path d="M77.53,17.3c-1.39,0-2.64-.25-3.74-.76-1.1-.51-1.97-1.2-2.61-2.08-.62-.9-.93-1.91-.93-3.01v-5.19c0-1.12.31-2.15.93-3.08.62-.93,1.48-1.65,2.58-2.18,1.1-.55,2.36-.83,3.77-.83s2.67.28,3.77.83c1.1.53,1.96,1.26,2.58,2.18.64.93.96,1.95.96,3.08v5.19c0,1.1-.32,2.11-.96,3.01-.62.88-1.49,1.58-2.61,2.08-1.1.51-2.35.76-3.74.76ZM77.53,14.45c1.26,0,2.25-.29,2.98-.86.73-.6,1.09-1.38,1.09-2.35v-4.86c0-1.01-.37-1.83-1.12-2.45-.73-.62-1.71-.93-2.94-.93s-2.23.31-2.98.93c-.73.62-1.09,1.43-1.09,2.45v4.86c0,.97.36,1.75,1.09,2.35.73.57,1.72.86,2.98.86Z" />
          <path d="M54.79,2.68c0-.75.25-1.36.76-1.82.53-.46,1.31-.69,2.35-.69v1.82c-.11.15-.22.31-.33.46-.11.13-.22.28-.33.43l.13.13c.68-.9,1.46-1.6,2.32-2.08.88-.51,1.94-.76,3.18-.76,1.87,0,3.38.54,4.53,1.62,1.17,1.06,1.75,2.46,1.75,4.2v5.52c0,1.74-.62,3.14-1.85,4.2-1.21,1.06-2.79,1.59-4.73,1.59-.95,0-1.86-.2-2.75-.6-.88-.42-1.64-.96-2.28-1.62l-.1.17c.15.22.39.46.69.73v5.52c0,1.61-1.11,2.41-3.34,2.41V2.68ZM62,14.42c1.23,0,2.19-.28,2.88-.83.68-.55,1.03-1.31,1.03-2.28v-5.16c0-.99-.34-1.75-1.03-2.28-.68-.55-1.65-.83-2.91-.83-1.1,0-2.03.29-2.78.86-.73.55-1.09,1.25-1.09,2.08v5.49c0,.84.35,1.54,1.06,2.12.73.55,1.68.83,2.84.83Z" />
          <path d="M31.54,2.84c0-1.79,1.05-2.68,3.14-2.68v2.08c-.22.22-.46.53-.73.93l.17.13c.71-1.01,1.44-1.79,2.22-2.32.77-.55,1.69-.83,2.75-.83,1.98,0,3.34.95,4.07,2.84,1.23-1.9,2.91-2.84,5.03-2.84,1.54,0,2.75.53,3.61,1.59.88,1.06,1.32,2.44,1.32,4.13v9.16c0,.77-.28,1.35-.83,1.72-.53.35-1.35.53-2.45.53V6.12c0-2.09-.85-3.14-2.55-3.14-.93,0-1.72.32-2.38.96-.64.62-.96,1.49-.96,2.61v8.5c0,.79-.26,1.37-.79,1.72-.53.35-1.33.53-2.41.53V6.12c0-.97-.21-1.73-.63-2.28-.42-.57-1.07-.86-1.95-.86-.97,0-1.78.35-2.41,1.06-.62.68-.93,1.55-.93,2.61v8.4c0,.77-.28,1.35-.83,1.72-.53.35-1.35.53-2.45.53V2.84Z" />
          <path d="M22.35,17.3c-1.39,0-2.64-.25-3.74-.76-1.1-.51-1.97-1.2-2.61-2.08-.62-.9-.93-1.91-.93-3.01v-5.19c0-1.12.31-2.15.93-3.08.62-.93,1.48-1.65,2.58-2.18,1.1-.55,2.36-.83,3.77-.83s2.67.28,3.77.83c1.1.53,1.96,1.26,2.58,2.18.64.93.96,1.95.96,3.08v5.19c0,1.1-.32,2.11-.96,3.01-.62.88-1.49,1.58-2.61,2.08-1.1.51-2.35.76-3.74.76ZM22.35,14.45c1.26,0,2.25-.29,2.98-.86.73-.6,1.09-1.38,1.09-2.35v-4.86c0-1.01-.37-1.83-1.12-2.45-.73-.62-1.71-.93-2.94-.93s-2.23.31-2.98.93c-.73.62-1.09,1.43-1.09,2.45v4.86c0,.97.36,1.75,1.09,2.35.73.57,1.72.86,2.98.86Z" />
          <path d="M7.96,17.3c-1.37,0-2.59-.24-3.67-.73-1.06-.51-1.89-1.2-2.48-2.08-.6-.9-.89-1.93-.89-3.08v-5.13c0-1.19.29-2.25.86-3.18.6-.93,1.42-1.64,2.48-2.15C5.34.43,6.56.16,7.93.16c1.28,0,2.41.19,3.41.56.99.35,1.76.86,2.32,1.52.57.66.86,1.42.86,2.28,0,.62-.25,1.11-.76,1.49-.51.35-1.15.51-1.92.46,0-1.01-.36-1.84-1.09-2.48-.71-.64-1.62-.96-2.75-.96s-2.04.31-2.75.93c-.71.62-1.06,1.42-1.06,2.41v4.83c0,.95.35,1.72,1.06,2.32.73.6,1.66.89,2.81.89s2.04-.32,2.75-.96c.73-.64,1.09-1.46,1.09-2.45.79-.07,1.44.08,1.95.43.51.35.76.84.76,1.46,0,.86-.29,1.62-.86,2.28-.55.66-1.33,1.18-2.35,1.55-1.01.37-2.16.56-3.44.56Z" />
        </svg>
      )}
    </div>
  );
}
