---
title: "Agent Context"
description: "Managing agent context for effective task execution and decision making"
icon: "layer-group"
---

## Overview

Context in Compozy agents refers to all the information available to an agent during execution - from workflow inputs and previous task outputs to memory and environment variables. Effective context management is crucial for agent performance and accuracy.

## Context Sources

Agents have access to multiple context sources:

- **Workflow Input**: Initial parameters and configuration
- **Task Outputs**: Results from previous tasks
- **Memory**: Historical data and stored information
- **Environment**: Configuration and system variables
- **Action Input**: Runtime data provided to actions
- **Iteration State**: Current state in iterative processes

## Context Variables

### Workflow Context

Access workflow-level information:

```yaml
actions:
  - id: process-request
    prompt: |
      Process request for: {{"{{.workflow.input.user_name}}"}}
      Request ID: {{"{{.workflow.input.request_id}}"}}
      Priority: {{"{{.workflow.input.priority}}"}}
      
      Workflow metadata:
      - Started at: {{"{{.workflow.started_at}}"}}
      - Workflow ID: {{"{{.workflow.id}}"}}
```

Available variables:
- `{{"{{.workflow.input.*}}"}}` - All workflow input parameters
- `{{"{{.workflow.id}}"}}` - Unique workflow execution ID
- `{{"{{.workflow.started_at}}"}}` - Workflow start timestamp
- `{{"{{.workflow.config.*}}"}}` - Workflow configuration values

### Task Context

Access outputs from previous tasks:

```yaml
actions:
  - id: analyze-results
    prompt: |
      Weather data: {{"{{.tasks.weather.output | toJson}}"}}
      Temperature: {{"{{.tasks.weather.output.temperature}}"}}Â°C
      
      User preferences: {{"{{.tasks.preferences.output.items}}"}}
      
      Previous analysis findings:
      {{"{{range .tasks.initial_analysis.output.findings}}"}}
      - {{"{{.}}"}}
      {{"{{end}}"}}
```

Available variables:
- `{{"{{.tasks.TASK_ID.output}}"}}` - Complete output object
- `{{"{{.tasks.TASK_ID.output.field}}"}}` - Specific field
- `{{"{{.tasks.TASK_ID.status}}"}}` - Task execution status
- `{{"{{.tasks.TASK_ID.error}}"}}` - Task error if any

## Best Practices

<FeatureCardList cols={2}>
  <FeatureCard title="Minimize Context">
    Include only necessary information to optimize token usage and response time
  </FeatureCard>
  <FeatureCard title="Structure Clearly">
    Organize context hierarchically for better agent comprehension
  </FeatureCard>
  <FeatureCard title="Validate Early">
    Check for required context before processing to fail fast
  </FeatureCard>
  <FeatureCard title="Cache Computed Values">
    Avoid recomputing expensive context transformations
  </FeatureCard>
</FeatureCardList>

## Next Steps

<FeatureCardList cols={2}>
  <FeatureCard title="Structured Outputs" href="/docs/core/agents/structured-outputs">
    Learn about JSON mode and output validation
  </FeatureCard>
  <FeatureCard title="Multi-Agent Patterns" href="/docs/core/agents/multi-agent-patterns">
    Explore context sharing in multi-agent systems
  </FeatureCard>
</FeatureCardList>