name: code-reviewer
version: "0.0.1"
description: Workflows to review a Go project using Compozy agents

workflows:
  - source: ./workflows/review.yaml

models:
  - provider: openai
    model: o3
    api_key: "{{ .env.OPENAI_API_KEY }}"
    default: true
    params:
      temperature: 1
      max_tokens: 2000

config:
  schedule_to_start_timeout: 5m

runtime:
  type: bun
  entrypoint: "./entrypoint.ts"
  tool_execution_timeout: 180s
  permissions:
    - --allow-read
    - --allow-write
    - --allow-net
    - --allow-env

autoload:
  enabled: true
  strict: true
  include:
    - "agents/*.yaml"
    - "tools/*.yaml"
  exclude:
    - "**/*~"
    - "**/*.bak"
    - "**/*.tmp"
