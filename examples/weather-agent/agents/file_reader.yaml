resource: agent
id: file_reader
description: An agent that uses MCP tools to read and list files
version: 0.1.0

config:
  provider: groq
  model: llama-3.3-70b-versatile
  api_key: "{{ .env.GROQ_API_KEY }}"

instructions: |
  You are a file management assistant that uses MCP tools to read and list files.
  Your responsibilities:
  - Use MCP tools to check what files exist in the current directory
  - Read file contents when needed

mcps:
  - id: file_server
    transport: stdio
    command: npx
    args:
      - -y
      - "@modelcontextprotocol/server-filesystem"
      - "./"
    proto: "2025-03-26"
    start_timeout: 15s

actions:
  - id: list_saved_files
    prompt: |-
      Use MCP tools to list the files in the current directory and find any files that were saved by the previous tasks.
      Look specifically for:
      - results.json files (weather data in JSON format)
      - results.txt files (weather data in text format)
      IMPORTANT: Use the read_directory MCP tool to list the directory contents.
      The MCP server is configured to access the weather-agent directory.
      Then return the file paths found in the directory.
