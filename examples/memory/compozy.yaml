name: basic-memory
version: 0.1.0
description: Simple conversational agent that remembers user information using memory

workflows:
  - source: ./basic-memory.yaml
  - source: ./memory-task.yaml
  - source: ./memory-api.yaml

models:
  - provider: groq
    model: llama-3.3-70b-versatile
    api_key: "{{ .env.GROQ_API_KEY }}"

runtime:
  type: bun
  entrypoint: "./entrypoint.ts"
  permissions:
    - --allow-net
    - --allow-read

# AutoLoad configuration for discovering memory resources
autoload:
  enabled: true
  strict: true
  include:
    - "memory/*.yaml"
  exclude:
    - "**/*~"
    - "**/*.bak"
    - "**/*.tmp"

# Project-level memory resources (ID-indexed in ResourceStore)
memories:
  - id: user_memory
    description: User conversation history and personal information
    version: 0.1.0
    default_key_template: "user:{{.workflow.input.user_id}}"
    type: token_based
    max_tokens: 2000
    max_messages: 50
    persistence:
      type: redis
      ttl: 168h
