# SDK Documentation Implementation Plan

## Navigation & Meta Configuration
- Update `docs/content/docs/meta.json` to insert `"sdk"` after the `"core"` entry. Source: tasks/prd-sdk/_docs.md.
- Create `docs/content/docs/sdk/meta.json` exactly as:
  ```json
  {
    "title": "SDK",
    "description": "Compozy GO SDK documentation",
    "icon": "Code2",
    "root": true,
    "pages": [
      "overview",
      "getting-started",
      "architecture",
      "entities",
      "builders",
      "examples",
      "migration",
      "testing",
      "troubleshooting"
    ]
  }
  ```
- Create `docs/content/docs/sdk/builders/meta.json` with:
  ```json
  {
    "title": "Builders",
    "pages": [
      "project",
      "model",
      "workflow",
      "agent",
      "tasks",
      "knowledge",
      "memory",
      "mcp",
      "runtime",
      "tool",
      "schema",
      "schedule",
      "monitoring",
      "client",
      "compozy"
    ]
  }
  ```
- Ensure docs site sidebar auto-generates from these meta.json files; no manual source config updates required. Confirm search indexing includes the new folder during docs build.

## Content Source Mapping
| Docs Page | Primary PRD Sources | Supporting Materials |
| --- | --- | --- |
| overview.mdx | 01-executive-summary.md §§ Value Props, Target Users | _docs.md top-level goals |
| getting-started.mdx | 05-examples.md §§ 1-3, 04-implementation-plan.md §§ SDK bootstrap | _techspec.md context-first requirements |
| architecture.mdx | 02-architecture.md §§ Integration Diagram, Runtime, Context-first | _techspec.md architecture guardrails |
| entities.mdx | 03-sdk-entities.md §§ category summaries & table | 04-implementation-plan.md entity ownership |
| builders/*.mdx | 03-sdk-entities.md package sections; 05-examples.md targeted snippets | pkg GoDoc references for each package |
| examples.mdx | 05-examples.md (all sections) | sdk/examples/ directory indexes |
| migration.mdx | 06-migration-guide.md; task_53.md; task_54.md | task_55.md troubleshooting appendices |
| testing.mdx | 07-testing-strategy.md | _tests.md baseline; Go testing rules |
| troubleshooting.mdx | task_55.md; 06-migration-guide.md §§ FAQ | _techspec.md failure modes |

## Cross-Link Strategy
- **Core Docs → SDK:**
  - `docs/content/docs/core/overview.mdx`: add “Programmatic SDK overview” link to SDK overview.
  - `docs/content/docs/core/workflows.mdx`: reference SDK builders for code-first workflow assembly (link to `sdk/entities` and `sdk/builders/workflow`).
- **API Docs → SDK:**
  - `docs/content/docs/api/overview.mdx`: mention client SDK usage for invoke/status (link to `sdk/builders/client`).
  - `docs/content/docs/api/authentication.mdx`: note reuse of SDK runtime auth helpers (`sdk/runtime`).
- **CLI Docs → SDK:**
  - `docs/content/docs/cli/overview.mdx`: highlight SDK deployment path (link to `sdk/getting-started` and `sdk/examples`).
- **SDK → Core/API/CLI:** include explicit “See also” sections per page pointing back to the relevant Core/API/CLI topics when the SDK page defers detail (e.g., architecture page links to Core runtime internals, migration page links to CLI deploy commands).

## DRY & Linking Guidelines
- Defer deep technical specs to PRD files (`tasks/prd-sdk/*.md`) using relative links; surface summaries only.
- Never repeat API signatures—link to autogenerated GoDoc (`pkg.go.dev/github.com/compozy/compozy/sdk/...`).
- Inline examples stay under 15 lines; link to full runnable code under `sdk/examples/` with exact file paths.
- Reuse glossary terms by linking to existing Core glossary entries; do not duplicate definitions.
- For repeated concepts (context-first, BuildError handling), standardize the explanation in `sdk/getting-started` and cross-link elsewhere.

## Builders Subdirectory Structure
- Directory: `docs/content/docs/sdk/builders/` mirroring PRD categories from 03-sdk-entities.md.
- Adopt one file per builder grouping: project, model, workflow, agent, tasks, knowledge, memory, mcp, runtime, tool, schema, schedule, monitoring, client, compozy.
- Inside each page:
  - Start with a usage overview.
  - Include tables summarizing builder methods sourced from PRD package sections.
  - Add “Related Examples” listing relevant entries from `sdk/examples/`.

## Docs Site Integration Plan
- After file creation, run docs build (`make docs-build`) to ensure sidebar renders (docs team action).
- Confirm Algolia/search indexing picks up new routes; update tags in `docs/scripts/search-config.json` if required (docs infra action).
- Update docs deployment checklist to ensure SDK section included in next release notes.
- Coordinate with release managers to announce top-level tab addition in changelog.

## Implementation Checklist
1. Create navigation entries (global `meta.json`, SDK `meta.json`, builders `meta.json`).
2. Generate markdown/MDX stubs following page outlines (see per-page outline files in `docs-page-outlines/`).
3. Wire cross-links in Core/API/CLI pages as described.
4. Add alias redirects if static site requires (e.g., `/docs/sdk` root route).
5. Validate docs build and link integrity (`npm run lint:docs` + `make docs-build`).
6. Publish release notes summarizing new SDK section.

## File Creation Order
1. `docs/content/docs/sdk/meta.json`
2. `docs/content/docs/sdk/builders/meta.json`
3. Top-level SDK pages (overview → troubleshooting to preserve navigation order)
4. Builders directory pages (project → compozy to mirror meta.json listing)
5. Cross-link updates in Core/API/CLI
6. Search/index configuration adjustments

## Dependencies & Coordination
- Requires completion of tasks 53-55 (migration & troubleshooting deliverables) for source accuracy.
- Align with engineering for GoDoc publication timing.
- Verify examples in `sdk/examples/` are merged before referencing.

## Examples Strategy
- Each page references the canonical example matrix in `tasks/prd-sdk/05-examples.md`.
- Use `sdk/examples/<name>.go` paths for runnable code; include command `go run ./sdk/examples/<name>.go` where relevant.

## Quality Gates
- Validate all JSON snippets with `jq` prior to commit.
- Ensure every page outline (see `docs-page-outlines/`) lists at least one PRD source and at least one cross-link.
- Confirm checklists cover lint/test/typecheck requirements even for documentation-only changes.
