{
  "$defs": {
    "Author": {
      "additionalProperties": false,
      "properties": {
        "contributors": {
          "description": "Additional contributors who helped develop the project.\n\nUse this to acknowledge team members, collaborators, or external contributors.",
          "items": {
            "$ref": "#/$defs/Contributor"
          },
          "type": "array"
        },
        "email": {
          "description": "Email contact for project-related communication.\n\nUse team emails for shared ownership: `\"ai-team@company.com\"`",
          "type": "string"
        },
        "name": {
          "description": "Name of the author or team responsible for the project.\n\nExamples: `\"Jane Smith\"`, `\"AI Platform Team\"`, `\"Data Science Division\"`",
          "type": "string"
        },
        "organization": {
          "description": "Organization or company affiliation.\n\nExamples: `\"ACME Corporation\"`, `\"AI Research Lab\"`, `\"Engineering Division\"`",
          "type": "string"
        },
        "url": {
          "description": "URL to author's profile, repository, or team page.\n\nExamples: `\"https://github.com/username\"`, `\"https://company.com/team/ai\"`",
          "type": "string"
        }
      },
      "type": "object"
    },
    "BaseConfig": {
      "additionalProperties": false,
      "description": "BaseConfig declares a knowledge base and governs how it is ingested and retrieved.",
      "properties": {
        "chunking": {
          "$ref": "#/$defs/ChunkingConfig"
        },
        "description": {
          "type": "string"
        },
        "embedder": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "ingest": {
          "type": "string"
        },
        "metadata": {
          "$ref": "#/$defs/MetadataConfig"
        },
        "preprocess": {
          "$ref": "#/$defs/PreprocessConfig"
        },
        "retrieval": {
          "$ref": "#/$defs/RetrievalConfig"
        },
        "sources": {
          "items": {
            "$ref": "#/$defs/SourceConfig"
          },
          "type": "array"
        },
        "vector_db": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "ChunkingConfig": {
      "additionalProperties": false,
      "description": "ChunkingConfig tunes how documents are split before embedding.",
      "properties": {
        "overlap": {
          "type": "integer"
        },
        "size": {
          "type": "integer"
        },
        "strategy": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "Contributor": {
      "additionalProperties": false,
      "description": "Contributor represents an individual who contributed to the project.",
      "properties": {
        "email": {
          "description": "Email address for contributor contact.",
          "type": "string"
        },
        "name": {
          "description": "Full name of the contributor.",
          "type": "string"
        },
        "organization": {
          "description": "Organization or team the contributor belongs to.",
          "type": "string"
        },
        "url": {
          "description": "URL to contributor's profile or portfolio.\n\nExamples: `\"https://github.com/username\"`, `\"https://linkedin.com/in/name\"`",
          "type": "string"
        }
      },
      "type": "object"
    },
    "EmbedderCacheConfig": {
      "additionalProperties": false,
      "description": "EmbedderCacheConfig toggles client-side embedding caches.",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "size": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "EmbedderConfig": {
      "additionalProperties": false,
      "description": "EmbedderConfig describes an embedding provider used during knowledge ingestion.",
      "properties": {
        "api_key": {
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/EmbedderRuntimeConfig"
        },
        "id": {
          "type": "string"
        },
        "model": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "EmbedderRuntimeConfig": {
      "additionalProperties": false,
      "description": "EmbedderRuntimeConfig captures runtime tuning options for an embedder client.",
      "properties": {
        "batch_size": {
          "type": "integer"
        },
        "cache": {
          "$ref": "#/$defs/EmbedderCacheConfig"
        },
        "dimension": {
          "type": "integer"
        },
        "max_concurrent_workers": {
          "type": "integer"
        },
        "retry": {
          "type": "object"
        },
        "strip_newlines": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "ErrorTransition": {
      "additionalProperties": false,
      "description": "ErrorTransition defines error handling behavior when a task fails.",
      "properties": {
        "next": {
          "description": "ID of the error handler task\n\n- **Example**: \"handle-error\", \"retry-with-fallback\"",
          "type": "string"
        },
        "with": {
          "$ref": "#/$defs/Input",
          "description": "Error context passed to the handler\nIncludes error details: { \"error\": \"{{ .error }}\", \"attempt\": \"{{ .retryCount }}\" }"
        }
      },
      "type": "object"
    },
    "Input": {
      "type": "object"
    },
    "KnowledgeBinding": {
      "additionalProperties": false,
      "properties": {
        "fallback": {
          "type": "string"
        },
        "filters": {
          "additionalProperties": {
            "type": "string"
          },
          "type": "object"
        },
        "id": {
          "type": "string"
        },
        "inject_as": {
          "type": "string"
        },
        "max_tokens": {
          "type": "integer"
        },
        "min_score": {
          "type": "number"
        },
        "top_k": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "MetadataConfig": {
      "additionalProperties": false,
      "description": "MetadataConfig carries optional descriptive metadata for knowledge bases.",
      "properties": {
        "owners": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "tags": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "Opts": {
      "additionalProperties": false,
      "description": "Opts contains project-specific configuration options.",
      "properties": {
        "heartbeat_timeout": {
          "description": "Interval for task heartbeat signals\nUsed for long-running tasks to indicate progress\n\n- **Example**: \"10s\", \"30s\", \"1m\"",
          "type": "string"
        },
        "on_error": {
          "$ref": "#/$defs/ErrorTransition",
          "description": "Error handler configuration\nDefines what happens when a task fails after all retries"
        },
        "retry_policy": {
          "$ref": "#/$defs/RetryPolicyConfig",
          "description": "Retry configuration for transient failures\nAutomatically retries failed tasks with exponential backoff"
        },
        "schedule_to_close_timeout": {
          "description": "Total timeout from scheduling to completion\nDefault: \"6m\"\n\n- **Example**: \"1m\", \"15m\", \"2h\"",
          "type": "string"
        },
        "schedule_to_start_timeout": {
          "description": "Maximum time to wait for a task to start executing\nDefault: \"1m\"\n\n- **Example**: \"30s\", \"5m\", \"1h\"",
          "type": "string"
        },
        "source_of_truth": {
          "description": "SourceOfTruth optionally overrides server default for this project.\nValues: \"repo\" or \"builder\".",
          "type": "string"
        },
        "start_to_close_timeout": {
          "description": "Maximum time for task execution once started\nDefault: \"5m\"\n\n- **Example**: \"30s\", \"10m\", \"1h\"",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PGVectorConfig": {
      "additionalProperties": false,
      "description": "PGVectorConfig exposes advanced tuning knobs for the pgvector provider.",
      "properties": {
        "index": {
          "$ref": "#/$defs/PGVectorIndexConfig"
        },
        "pool": {
          "$ref": "#/$defs/PGVectorPoolConfig"
        },
        "search": {
          "$ref": "#/$defs/PGVectorSearchConfig"
        }
      },
      "type": "object"
    },
    "PGVectorIndexConfig": {
      "additionalProperties": false,
      "description": "PGVectorIndexConfig tunes index creation for pgvector-backed stores.",
      "properties": {
        "ef_construction": {
          "type": "integer"
        },
        "lists": {
          "type": "integer"
        },
        "m": {
          "type": "integer"
        },
        "type": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "PGVectorPoolConfig": {
      "additionalProperties": false,
      "description": "PGVectorPoolConfig customizes pgxpool behavior for pgvector stores.",
      "properties": {
        "health_check_period": {
          "type": "integer"
        },
        "max_conn_idle_time": {
          "type": "integer"
        },
        "max_conn_lifetime": {
          "type": "integer"
        },
        "max_conns": {
          "type": "integer"
        },
        "min_conns": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "PGVectorSearchConfig": {
      "additionalProperties": false,
      "description": "PGVectorSearchConfig adjusts runtime search parameters for pgvector queries.",
      "properties": {
        "ef_search": {
          "type": "integer"
        },
        "probes": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "PathCWD": {
      "additionalProperties": false,
      "properties": {
        "path": {
          "description": "Path holds the absolute working directory.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PreprocessConfig": {
      "additionalProperties": false,
      "description": "PreprocessConfig configures preprocessing steps applied to raw content.",
      "properties": {
        "dedupe": {
          "type": "boolean"
        },
        "remove_html": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "PromptParams": {
      "additionalProperties": false,
      "description": "PromptParams defines the parameters that control LLM behavior during text generation.",
      "properties": {
        "candidate_count": {
          "description": "CandidateCount specifies the number of response candidates to generate.\nSimilar to N but used by Google AI models.\n- **Range**: 1 to provider-specific maximum\n- **Provider Support**: Google AI (Gemini)",
          "type": "integer"
        },
        "frequency_penalty": {
          "description": "FrequencyPenalty penalizes tokens based on their frequency in the text so far.\nPositive values reduce repetition, negative values encourage it.\n- **Range**: -2.0 to 2.0\n- **Recommended**: 0.0 (no penalty) to 0.5 (moderate penalty)\n- **Provider Support**: OpenAI, Groq",
          "type": "number"
        },
        "max_length": {
          "description": "MaxLength provides an alternative way to specify maximum response length.\nTypically used by providers that distinguish between length and token limits.\n- **Range**: MinLength to provider-specific maximum\n- **Provider Support**: Primarily local models and some API providers",
          "type": "integer"
        },
        "max_tokens": {
          "description": "MaxTokens limits the maximum number of tokens in the generated response.\nThis parameter is crucial for cost control and response time management.\n- **Range**: 1 to model-specific maximum (e.g., 8192 for GPT-4)\n- **Default**: Provider-specific default (typically 1000-2000)",
          "type": "integer"
        },
        "metadata": {
          "description": "Metadata contains backend-specific parameters not covered by standard fields.\nUse this for provider-specific features or experimental parameters.\n- **Example**: Custom headers, request tracking, A/B test variants\n- **Provider Support**: Varies by provider",
          "type": "object"
        },
        "min_length": {
          "description": "MinLength specifies the minimum number of tokens that must be generated.\nPrevents the model from generating responses that are too short.\n- **Range**: 1 to MaxTokens\n- **Provider Support**: Limited; primarily local models",
          "type": "integer"
        },
        "n": {
          "description": "N specifies how many completion choices to generate for each prompt.\nUseful for generating multiple alternatives and selecting the best one.\n- **Range**: 1 to provider-specific maximum (typically 1-10)\n- **Default**: 1\n- **Provider Support**: OpenAI",
          "type": "integer"
        },
        "presence_penalty": {
          "description": "PresencePenalty penalizes tokens that have already appeared in the text.\nPositive values encourage the model to talk about new topics.\n- **Range**: -2.0 to 2.0\n- **Recommended**: 0.0 (no penalty) to 0.5 (moderate penalty)\n- **Provider Support**: OpenAI, Groq",
          "type": "number"
        },
        "repetition_penalty": {
          "description": "RepetitionPenalty reduces the likelihood of repeating the same tokens.\nValues \u003e 1.0 penalize repetition, values \u003c 1.0 encourage it.\n- **Range**: 0.1 to 2.0\n- **Recommended**: 1.0 (no penalty) to 1.2 (moderate penalty)\n- **Provider Support**: Primarily local models (Ollama, etc.)",
          "type": "number"
        },
        "seed": {
          "description": "Seed provides a random seed for reproducible outputs.\nWhen set, the same input with the same parameters will generate identical responses.\n- **Use Cases**: Testing, debugging, demonstration, A/B testing\n\u003e **Note:**: Not all providers support seeding; OpenAI and some others do",
          "type": "integer"
        },
        "stop_words": {
          "description": "StopWords defines a list of strings that will halt text generation when encountered.\nUseful for creating structured outputs or preventing unwanted content patterns.\n\n- **Example**: `[\"END\", \"STOP\", \"\\n\\n---\"]` for section-based content\n\u003e **Note:**: Not all providers support stop words; check provider documentation",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "temperature": {
          "description": "Temperature controls the randomness of the generated text.\nLower values produce more deterministic, focused responses.\nHigher values increase creativity and variation but may reduce coherence.\n- **Range**: 0.0 (deterministic) to 1.0 (maximum randomness)\n- **Recommended**: 0.1-0.3 for factual tasks, 0.7-0.9 for creative tasks",
          "type": "number"
        },
        "top_k": {
          "description": "TopK limits the number of highest probability tokens considered during sampling.\nLower values focus on the most likely tokens, higher values allow more variety.\n- **Range**: 1 to vocabulary size (typically 1-100)\n- **Provider Support**: Primarily Google models and some local models",
          "type": "integer"
        },
        "top_p": {
          "description": "TopP (nucleus sampling) considers only tokens with cumulative probability up to this value.\nDynamically adjusts the vocabulary size based on probability distribution.\n- **Range**: 0.0 to 1.0\n- **Recommended**: 0.9 for balanced outputs, 0.95 for more variety",
          "type": "number"
        }
      },
      "type": "object"
    },
    "ProviderConfig": {
      "additionalProperties": false,
      "description": "ProviderConfig represents the complete configuration for an LLM provider in Compozy workflows.",
      "properties": {
        "api_key": {
          "description": "APIKey contains the authentication key for the AI provider.\n\n- **Security**: Use template references to environment variables.\n- **Examples**: `\"{{ .env.OPENAI_API_KEY }}\"`, `\"{{ .secrets.ANTHROPIC_KEY }}\"`\n\u003e **Note:**: Required for most cloud providers, optional for local providers",
          "type": "string"
        },
        "api_url": {
          "description": "APIURL specifies a custom API endpoint for the provider.\n**Use Cases**:\n  - Local model hosting (Ollama, OpenAI-compatible servers)\n  - Enterprise API gateways\n  - Regional API endpoints\n  - Custom proxy servers\n\n**Examples**: `\"http://localhost:11434\"`, `\"https://api.openai.com/v1\"`",
          "type": "string"
        },
        "context_window": {
          "description": "ContextWindow optionally overrides the provider's default context window size.\nWhen \u003e 0, this value replaces the provider's default ContextWindowTokens capability.\nUseful for providers like OpenRouter that support multiple models with varying limits.\n- **Example**: 200000 for Claude 3.5 Sonnet via OpenRouter\n- **Default**: Uses provider's default when not specified or \u003c= 0",
          "type": "integer"
        },
        "default": {
          "description": "Default indicates that this model should be used as the fallback when no explicit\nmodel configuration is provided at the task or agent level.\n\n**Behavior**:\n  - Only one model per project can be marked as default\n  - When set to true, this model will be used for tasks/agents without explicit model config\n  - Validation ensures at most one default model per project\n\n**Example**:\n```yaml\nmodels:\n  - provider: openai\n    model: gpt-4\n    default: true  # This will be used by default\n```",
          "type": "boolean"
        },
        "max_tool_iterations": {
          "description": "MaxToolIterations optionally caps the maximum number of tool-call iterations\nduring a single LLM request when tools are available.\nWhen \u003e 0, overrides the global default for this model; 0 uses the global default.",
          "type": "integer"
        },
        "model": {
          "description": "Model defines the specific model identifier to use with the provider.\nModel names are provider-specific and determine capabilities and pricing.\n\n- **Examples**:\n  - OpenAI: `\"gpt-4-turbo\"`, `\"gpt-3.5-turbo\"`\n  - Anthropic: `\"claude-4-opus\"`, `\"claude-3-5-haiku-latest\"`\n  - Google: `\"gemini-pro\"`, `\"gemini-pro-vision\"`\n  - Ollama: `\"llama2:13b\"`, `\"mistral:7b\"`",
          "type": "string"
        },
        "organization": {
          "description": "Organization specifies the organization ID for providers that support it.\n- **Primary Use**: OpenAI organization management for billing and access control\n\n- **Example**: `\"org-123456789abcdef\"`\n\u003e **Note:**: Optional for most providers",
          "type": "string"
        },
        "params": {
          "$ref": "#/$defs/PromptParams",
          "description": "Params contains the generation parameters that control LLM behavior.\nThese parameters are applied to all requests using this provider configuration.\nCan be overridden at the task or action level for specific requirements."
        },
        "provider": {
          "description": "Provider specifies which AI service to use for LLM operations.\nMust match one of the supported ProviderName constants.\n\n- **Examples**: `\"openai\"`, `\"anthropic\"`, `\"google\"`, `\"ollama\"`",
          "type": "string"
        },
        "rate_limit": {
          "$ref": "#/$defs/ProviderRateLimitConfig",
          "description": "RateLimit overrides concurrency limits and queue size for this provider.\nWhen omitted the orchestrator applies the global defaults."
        }
      },
      "type": "object"
    },
    "ProviderRateLimitConfig": {
      "additionalProperties": false,
      "description": "ProviderRateLimitConfig describes concurrency and throughput limits scoped to a provider.",
      "properties": {
        "concurrency": {
          "type": "integer"
        },
        "queue_size": {
          "type": "integer"
        },
        "release_slot_before_token_wait": {
          "description": "ReleaseSlotBeforeTokenWait releases concurrency slots before token waits when true; nil inherits defaults.",
          "type": "boolean"
        },
        "request_burst": {
          "type": "integer"
        },
        "requests_per_minute": {
          "type": "integer"
        },
        "token_burst": {
          "type": "integer"
        },
        "tokens_per_minute": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "RetrievalConfig": {
      "additionalProperties": false,
      "description": "RetrievalConfig manages how stored chunks are queried and injected into prompts.",
      "properties": {
        "fallback": {
          "type": "string"
        },
        "filters": {
          "additionalProperties": {
            "type": "string"
          },
          "type": "object"
        },
        "inject_as": {
          "type": "string"
        },
        "max_tokens": {
          "type": "integer"
        },
        "min_results": {
          "type": "integer"
        },
        "min_score": {
          "type": "number"
        },
        "tool_fallback": {
          "type": "string"
        },
        "top_k": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "RetryPolicyConfig": {
      "additionalProperties": false,
      "description": "RetryPolicyConfig defines automatic retry behavior for failed tasks.",
      "properties": {
        "backoff_coefficient": {
          "description": "Multiplier for exponential backoff\n- **Default:** `2.0` (doubles each time)\n- **Example:** `1.5`, `2.0`, `3.0`",
          "type": "number"
        },
        "initial_interval": {
          "description": "Initial delay before first retry\n- **Default:** `\"1s\"`\n- **Example:** `\"500ms\"`, `\"2s\"`, `\"1m\"`",
          "type": "string"
        },
        "maximum_attempts": {
          "description": "Maximum retry attempts\n- **Default:** `3`\n- **Example:** `5` for critical operations",
          "type": "integer"
        },
        "maximum_interval": {
          "description": "Maximum delay between retries\n- **Default:** `\"1m\"`\n- **Example:** `\"30s\"`, `\"5m\"`, `\"1h\"`",
          "type": "string"
        },
        "non_retryable_error_types": {
          "description": "Error types that should not trigger retries\n- **Example:** `[\"ValidationError\", \"AuthenticationError\"]`",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "RuntimeConfig": {
      "additionalProperties": false,
      "description": "RuntimeConfig defines project-specific runtime overrides.",
      "properties": {
        "entrypoint": {
          "description": "Entrypoint specifies the path to the JavaScript/TypeScript entrypoint file.\nOverrides global runtime.entrypoint_path setting if specified.",
          "type": "string"
        },
        "permissions": {
          "description": "Permissions defines runtime security permissions.\nOverrides global runtime.bun_permissions setting if specified.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "task_execution_timeout_default": {
          "description": "TaskExecutionTimeoutDefault overrides the global runtime.task_execution_timeout_default when provided.\nAccepts Go duration strings (e.g., \"90s\", \"2m\").",
          "type": "integer"
        },
        "task_execution_timeout_max": {
          "description": "TaskExecutionTimeoutMax overrides the global runtime.task_execution_timeout_max when provided.\nAccepts Go duration strings (e.g., \"300s\", \"5m\").",
          "type": "integer"
        },
        "tool_execution_timeout": {
          "description": "ToolExecutionTimeout overrides the global runtime.tool_execution_timeout when provided.\nAccepts Go duration strings (e.g., \"120s\", \"2m\").",
          "type": "integer"
        },
        "type": {
          "description": "Type specifies the JavaScript runtime to use for tool execution.\nOverrides global runtime.runtime_type setting if specified.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "Schema": {
      "type": "object"
    },
    "SourceConfig": {
      "additionalProperties": false,
      "description": "SourceConfig describes a single ingestion source such as a glob, URL, or bucket.",
      "properties": {
        "bucket": {
          "type": "string"
        },
        "options": {
          "additionalProperties": {
            "type": "string"
          },
          "type": "object"
        },
        "path": {
          "type": "string"
        },
        "paths": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "prefix": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "urls": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "video_id": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "VectorDBConfig": {
      "additionalProperties": false,
      "description": "VectorDBConfig configures a vector database target for knowledge storage.",
      "properties": {
        "config": {
          "$ref": "#/$defs/VectorDBConnConfig"
        },
        "id": {
          "type": "string"
        },
        "type": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "VectorDBConnConfig": {
      "additionalProperties": false,
      "description": "VectorDBConnConfig defines connection and table options for a vector database.",
      "properties": {
        "auth": {
          "additionalProperties": {
            "type": "string"
          },
          "type": "object"
        },
        "collection": {
          "type": "string"
        },
        "consistency": {
          "type": "string"
        },
        "dimension": {
          "type": "integer"
        },
        "dsn": {
          "type": "string"
        },
        "ensure_index": {
          "type": "boolean"
        },
        "index": {
          "type": "string"
        },
        "max_top_k": {
          "type": "integer"
        },
        "metric": {
          "type": "string"
        },
        "path": {
          "type": "string"
        },
        "pgvector": {
          "$ref": "#/$defs/PGVectorConfig"
        },
        "table": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "WorkflowSourceConfig": {
      "additionalProperties": false,
      "description": "WorkflowSourceConfig defines the source location for a workflow file.",
      "properties": {
        "source": {
          "description": "Source specifies the path to the workflow YAML file relative to the project root.\n\nThis file contains the task definitions, agent configurations, and execution flow.\nPaths can be:\n  - **Relative**: `\"./workflows/data-analysis.yaml\"` (recommended)\n  - **Nested**: `\"workflows/pipelines/etl.yaml\"`\n  - **Top-level**: `\"main-workflow.yaml\"`\n\nBest practices:\n  - Organize workflows by domain or functionality\n  - Use descriptive names that indicate the workflow's purpose\n  - Keep related workflows in the same directory",
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_AgentStreamConfig": {
      "additionalProperties": false,
      "description": "AgentStreamConfig defines tunables for agent execution streaming.",
      "properties": {
        "default_poll": {
          "type": "integer"
        },
        "heartbeat_frequency": {
          "type": "integer"
        },
        "max_poll": {
          "type": "integer"
        },
        "min_poll": {
          "type": "integer"
        },
        "replay_limit": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_AttachmentMIMEAllowlist": {
      "additionalProperties": false,
      "description": "AttachmentMIMEAllowlist holds allowed MIME types per category.",
      "properties": {
        "audio": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "image": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "pdf": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "video": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "config_AttachmentsConfig": {
      "additionalProperties": false,
      "description": "AttachmentsConfig contains global limits and policies for attachment handling.",
      "properties": {
        "allowed_mime_types": {
          "$ref": "#/$defs/config_AttachmentMIMEAllowlist",
          "description": "AllowedMIMETypes specifies MIME allowlists by content category.\n\nEmpty lists do not allow everything; they mean \"use built-in defaults\"\nper attachment type. Resolvers fall back to type heuristics when the\nallowlist for a category is empty."
        },
        "download_timeout": {
          "description": "DownloadTimeout sets the timeout for downloading a single attachment.\nDefault: 30s",
          "type": "integer"
        },
        "http_user_agent": {
          "description": "HTTPUserAgent sets the User-Agent header for outbound downloads.\nDefault: \"Compozy/1.0\"",
          "type": "string"
        },
        "max_download_size_bytes": {
          "description": "MaxDownloadSizeBytes caps the maximum size (in bytes) for any single download.\nDefault: 10_000_000 (10MB)",
          "type": "integer"
        },
        "max_redirects": {
          "description": "MaxRedirects limits the number of HTTP redirects followed during download.\nDefault: 3",
          "type": "integer"
        },
        "mime_head_max_bytes": {
          "description": "MIMEHeadMaxBytes controls how many initial bytes are used for MIME detection.\nDefault: 512",
          "type": "integer"
        },
        "pdf_extract_max_chars": {
          "description": "PDFExtractMaxChars caps the number of characters extracted from PDFs.\nDefault: 1_000_000",
          "type": "integer"
        },
        "ssrf_strict": {
          "description": "SSRFStrict enforces blocking of local/loopback/private/multicast destinations even in tests.\nDefault: false",
          "type": "boolean"
        },
        "temp_dir_quota_bytes": {
          "description": "TempDirQuotaBytes optionally caps total temp storage used by attachment resolution.\n0 disables the quota.",
          "type": "integer"
        },
        "text_part_max_bytes": {
          "description": "TextPartMaxBytes caps the number of bytes loaded from text files into LLM parts.\nDefault: 5_242_880 (5MB)",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_AuthConfig": {
      "additionalProperties": false,
      "description": "AuthConfig contains authentication configuration.",
      "properties": {
        "admin_key": {
          "type": "string"
        },
        "api_key_last_used_max_concurrency": {
          "description": "APIKeyLastUsedMaxConcurrency bounds background workers that stamp API key last-used timestamps.\n\nDefault: 10. Set to 0 to disable asynchronous updates.",
          "type": "integer"
        },
        "api_key_last_used_timeout": {
          "description": "APIKeyLastUsedTimeout limits how long asynchronous last-used updates may run before timing out.\n\nDefault: 2s.",
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        },
        "workflow_exceptions": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "config_CLIConfig": {
      "additionalProperties": false,
      "properties": {
        "APIKey": {
          "description": "APIKey authenticates CLI requests to the Compozy API.\n\n**Security**: Always use environment variables for API keys.\nNever commit API keys to version control.",
          "type": "string"
        },
        "BaseURL": {
          "description": "BaseURL specifies the Compozy API endpoint.\n\nDefault: \"https://api.compozy.com\"\nUse custom endpoints for self-hosted or development environments.",
          "type": "string"
        },
        "ColorMode": {
          "description": "ColorMode controls terminal color output.\n\nOptions:\n  - `\"auto\"`: Detect terminal color support (default)\n  - `\"on\"`: Force color output\n  - `\"off\"`: Disable all color output",
          "type": "string"
        },
        "ConfigFile": {
          "description": "ConfigFile specifies a custom configuration file path.\n\nDefault: \"./compozy.yaml\" or \"~/.compozy/config.yaml\"",
          "type": "string"
        },
        "Debug": {
          "description": "Debug enables verbose debug logging.\n\nShows detailed API requests, responses, and internal operations.",
          "type": "boolean"
        },
        "DefaultFormat": {
          "description": "DefaultFormat sets the default output format.\n\nOptions:\n  - `\"json\"`: JSON format for programmatic consumption\n  - `\"tui\"`: Terminal UI with tables and formatting (default)\n  - `\"auto\"`: Automatically detect based on terminal capabilities",
          "type": "string"
        },
        "Dev": {
          "$ref": "#/$defs/config_CLIDevConfig",
          "description": "Dev exposes local development settings, including watcher debounce and restart backoff."
        },
        "EnvFile": {
          "description": "EnvFile specifies a .env file to load environment variables from.\n\nVariables in this file are loaded before processing configuration.",
          "type": "string"
        },
        "FileWatchInterval": {
          "description": "FileWatchInterval controls the polling cadence when filesystem notifications are unavailable.\n\nDefault: 1s\nSet to 0 to use the built-in default.",
          "type": "integer"
        },
        "Interactive": {
          "description": "Interactive enables interactive prompts and confirmations.\n\nDefault: true\nSet to false for non-interactive environments.",
          "type": "boolean"
        },
        "MaxRetries": {
          "description": "MaxRetries sets the maximum retry attempts for CLI HTTP requests.\nDefault: 3. Set to a non-negative value; 0 reverts to the default and negative disables retries.",
          "type": "integer"
        },
        "Mode": {
          "description": "Mode controls the CLI execution behavior.\n\nAvailable modes:\n  - `\"normal\"`: Standard interactive mode (default)\n  - `\"batch\"`: Non-interactive batch processing\n  - `\"script\"`: Optimized for scripting (minimal output)",
          "type": "string"
        },
        "NoColor": {
          "description": "NoColor disables all color output regardless of terminal support.\n\nOverrides ColorMode when set to true.",
          "type": "boolean"
        },
        "OutputFormatAlias": {
          "description": "OutputFormatAlias allows custom output format aliases.\n\nUsed internally for format customization.",
          "type": "string"
        },
        "PageSize": {
          "description": "PageSize sets the number of results per page in list operations.\n\nDefault: 50\nRange: 1-1000",
          "type": "integer"
        },
        "PortReleasePollInterval": {
          "description": "PortReleasePollInterval sets how often to check if a port has become available.\n\nDefault: 100ms",
          "type": "integer"
        },
        "PortReleaseTimeout": {
          "description": "PortReleaseTimeout sets the maximum time to wait for a port to become available.\n\nDefault: 5s",
          "type": "integer"
        },
        "Quiet": {
          "description": "Quiet suppresses all non-error output.\n\nUseful for scripting and automation.",
          "type": "boolean"
        },
        "ServerURL": {
          "description": "ServerURL overrides the server URL for local development.\n\nThis takes precedence over BaseURL when set.\nExample: \"http://localhost:8080\" for local server",
          "type": "string"
        },
        "Timeout": {
          "description": "Timeout sets the maximum duration for API requests.\n\nDefault: 30s\nIncrease for long-running operations like workflow execution.",
          "type": "integer"
        },
        "Users": {
          "$ref": "#/$defs/config_CLIUsersConfig",
          "description": "Users configures CLI behavior for user-management commands.\n\nProvides operator-tunable knobs for filters and heuristics like the active-user window."
        }
      },
      "type": "object"
    },
    "config_CLIDevConfig": {
      "additionalProperties": false,
      "description": "CLIDevConfig contains development tooling settings for the CLI.",
      "properties": {
        "WatcherDebounce": {
          "description": "WatcherDebounce defines the quiet period before restarting the dev server after a file change.\nLower values trigger faster restarts; higher values reduce churn when many files change at once.\n\n**Default**: `200ms`",
          "type": "integer"
        },
        "WatcherRetryInitial": {
          "description": "WatcherRetryInitial controls the first backoff duration after an unexpected server failure.\nThe delay doubles after each failure until WatcherRetryMax is reached.\n\n**Default**: `500ms`",
          "type": "integer"
        },
        "WatcherRetryMax": {
          "description": "WatcherRetryMax caps the exponential backoff window when the dev server repeatedly fails to start.\n\n**Default**: `30s`",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_CLIUsersConfig": {
      "additionalProperties": false,
      "description": "CLIUsersConfig controls CLI user-management heuristics and filters.",
      "properties": {
        "ActiveWindowDays": {
          "description": "ActiveWindowDays specifies how many days define an \"active\" user.\n\nUsed by commands like `auth users list --active` to determine recent activity.\nDefault: 30 days.",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_CORSConfig": {
      "additionalProperties": false,
      "description": "CORSConfig contains CORS configuration.",
      "properties": {
        "allow_credentials": {
          "type": "boolean"
        },
        "allowed_origins": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "max_age": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_CacheConfig": {
      "additionalProperties": false,
      "description": "CacheConfig contains cache-specific configuration settings.",
      "properties": {
        "compression_enabled": {
          "description": "CompressionEnabled activates data compression for cached items.\n\nReduces memory usage and network bandwidth at the cost of CPU.\nUses gzip compression for items above CompressionThreshold.\n\n**Default**: `true`",
          "type": "boolean"
        },
        "compression_threshold": {
          "description": "CompressionThreshold sets the minimum size for compression.\n\nItems smaller than this are stored uncompressed to avoid\nCPU overhead for minimal space savings.\n\n**Default**: `1024` (1KB)",
          "type": "integer"
        },
        "enabled": {
          "description": "Enabled determines if caching is active.\n\nWhen disabled, all cache operations become no-ops.\nUseful for debugging or when Redis is unavailable.\n\n**Default**: `true`",
          "type": "boolean"
        },
        "eviction_policy": {
          "description": "EvictionPolicy controls how items are removed when cache is full.\n\nOptions:\n  - `\"lru\"`: Least Recently Used (default)\n  - `\"lfu\"`: Least Frequently Used\n  - `\"ttl\"`: Time-based expiration only\n\n**Default**: `\"lru\"`",
          "type": "string"
        },
        "key_scan_count": {
          "description": "KeyScanCount controls the COUNT hint used by Redis SCAN for key iteration.\nLarger values reduce round-trips but may increase per-iteration latency.\nSet to a positive integer; defaults to 100.",
          "type": "integer"
        },
        "max_item_size": {
          "description": "MaxItemSize limits the maximum size of a single cached item.\n\nPrevents large objects from consuming excessive memory.\nItems larger than this are not cached.\n\n**Default**: `1048576` (1MB)",
          "type": "integer"
        },
        "prefix": {
          "description": "Prefix namespaces cache keys in Redis.\n\nPrevents key collisions when sharing Redis with other applications.\nFormat: `\"\u003capp\u003e:\u003cenvironment\u003e:cache:\"`\n\n**Default**: `\"compozy:cache:\"`",
          "type": "string"
        },
        "stats_interval": {
          "description": "StatsInterval controls how often cache statistics are logged.\n\nSet to 0 to disable statistics logging.\nUseful for monitoring cache hit rates and performance.\n\n**Default**: `5m`",
          "type": "integer"
        },
        "ttl": {
          "description": "TTL sets the default time-to-live for cached items.\n\nBalances data freshness with cache efficiency.\nCan be overridden per operation.\n\n**Default**: `24h`",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_DatabaseConfig": {
      "additionalProperties": false,
      "description": "DatabaseConfig contains database connection configuration.",
      "properties": {
        "auto_migrate": {
          "description": "AutoMigrate enables automatic database migrations on startup.\n\nWhen enabled, the system will automatically apply any pending database\nmigrations when establishing a database connection. This eliminates\nthe need for manual migration commands.\n\nDefault: true",
          "type": "boolean"
        },
        "busy_timeout": {
          "description": "BusyTimeout configures SQLite PRAGMA busy_timeout for lock contention.\nWhen unset, a sensible default is applied by the SQLite provider.",
          "type": "integer"
        },
        "conn_max_idle_time": {
          "description": "ConnMaxIdleTime bounds how long an idle connection is retained before recycling.\n\nDefault: `1m`",
          "type": "integer"
        },
        "conn_max_lifetime": {
          "description": "ConnMaxLifetime bounds how long a connection may be reused.\n\nDefault: `5m`",
          "type": "integer"
        },
        "conn_string": {
          "description": "ConnString provides a complete PostgreSQL connection URL.\n\nFormat: `postgres://user:password@host:port/database?sslmode=mode`\nTakes precedence over individual connection parameters.",
          "type": "string"
        },
        "connect_timeout": {
          "description": "ConnectTimeout bounds how long the driver may spend establishing new PostgreSQL connections.\n\nDefault: `5s`",
          "type": "integer"
        },
        "driver": {
          "description": "Driver selects the backing database driver implementation.\n\nSupported drivers:\n  - \"postgres\": default, full production deployment\n  - \"sqlite\": lightweight single-node deployments\n\nDefaults to \"postgres\" when omitted for backward compatibility.",
          "type": "string"
        },
        "health_check_period": {
          "description": "HealthCheckPeriod configures how frequently the pool performs background health checks.\n\nDefault: `30s`",
          "type": "integer"
        },
        "health_check_timeout": {
          "description": "HealthCheckTimeout limits the runtime health check duration before reporting failure.\n\nDefault: `1s`",
          "type": "integer"
        },
        "host": {
          "description": "Host specifies the database server hostname or IP address.\n\nDefault: \"localhost\"",
          "type": "string"
        },
        "max_idle_conns": {
          "description": "MaxIdleConns defines the number of connections kept idle in the pool.\n\nDefault: `5`",
          "type": "integer"
        },
        "max_open_conns": {
          "description": "MaxOpenConns caps total simultaneous PostgreSQL connections from this service.\n\nDefault: `25`",
          "type": "integer"
        },
        "migration_timeout": {
          "description": "MigrationTimeout sets the maximum allowed time for applying database\nmigrations during startup. It must be equal to or greater than the\nadvisory lock acquisition window used by ApplyMigrationsWithLock (45s).\n\nDefault: 2m",
          "type": "integer"
        },
        "name": {
          "description": "DBName specifies the database name to connect to.\n\nDefault: \"compozy\"",
          "type": "string"
        },
        "password": {
          "description": "Password specifies the database password for authentication.\n\n**Security**: Use environment variables in production.",
          "type": "string"
        },
        "path": {
          "description": "Path specifies the SQLite database location or \":memory:\".\n\nValues:\n  - \":memory:\" for ephemeral in-memory databases\n  - Relative or absolute file path for persistent storage",
          "type": "string"
        },
        "ping_timeout": {
          "description": "PingTimeout bounds how long connectivity checks may wait when establishing the pool.\n\nDefault: `3s`",
          "type": "integer"
        },
        "port": {
          "description": "Port specifies the database server port.\n\nDefault: \"5432\" (PostgreSQL default)",
          "type": "string"
        },
        "ssl_mode": {
          "description": "SSLMode configures SSL/TLS connection security.\n\nOptions:\n  - `\"disable\"`: No SSL (development only)\n  - `\"prefer\"`: Try SSL, fallback to non-SSL\n  - `\"require\"`: SSL required (recommended)\n  - `\"verify-ca\"`: SSL with CA verification\n  - `\"verify-full\"`: SSL with full verification",
          "type": "string"
        },
        "user": {
          "description": "User specifies the database username for authentication.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_EmbeddedRedisConfig": {
      "additionalProperties": false,
      "description": "EmbeddedRedisConfig defines options for the embedded Redis used by memory and persistent modes.",
      "properties": {
        "persistence": {
          "$ref": "#/$defs/config_RedisPersistenceConfig",
          "description": "Persistence configures optional snapshot persistence for embedded Redis."
        }
      },
      "type": "object"
    },
    "config_EmbeddedTemporalConfig": {
      "additionalProperties": false,
      "description": "EmbeddedTemporalConfig configures the embedded Temporal server that powers memory and persistent modes.",
      "properties": {
        "bind_ip": {
          "description": "BindIP determines the IP address Temporal services bind to.",
          "type": "string"
        },
        "cluster_name": {
          "description": "ClusterName customizes the Temporal cluster name for embedded deployments.",
          "type": "string"
        },
        "database_file": {
          "description": "DatabaseFile specifies the SQLite database location.\n\nUse \":memory:\" for ephemeral storage or provide a file path for persistence.",
          "type": "string"
        },
        "enable_ui": {
          "description": "EnableUI toggles the Temporal Web UI server.",
          "type": "boolean"
        },
        "frontend_port": {
          "description": "FrontendPort sets the gRPC port for the Temporal frontend service.",
          "type": "integer"
        },
        "log_level": {
          "description": "LogLevel controls Temporal server logging verbosity.",
          "type": "string"
        },
        "namespace": {
          "description": "Namespace specifies the default namespace created on startup.",
          "type": "string"
        },
        "require_ui": {
          "description": "RequireUI enforces UI availability; startup fails when UI cannot be launched.",
          "type": "boolean"
        },
        "start_timeout": {
          "description": "StartTimeout defines the maximum startup wait duration.",
          "type": "integer"
        },
        "ui_port": {
          "description": "UIPort sets the HTTP port for the Temporal Web UI.",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_KnowledgeConfig": {
      "additionalProperties": false,
      "description": "KnowledgeConfig contains default tuning knobs for knowledge ingestion and retrieval.",
      "properties": {
        "chunk_overlap": {
          "description": "ChunkOverlap defines the default overlap between adjacent chunks.\n\nApplied when chunking.overlap is omitted. Values greater than or equal to ChunkSize\nare ignored during normalization.",
          "type": "integer"
        },
        "chunk_size": {
          "description": "ChunkSize sets the default chunk size (in tokens) for source splitting.\n\nEnforced when chunking.size is not provided.\nMust remain within the supported range for knowledge ingestion.",
          "type": "integer"
        },
        "embedder_batch_size": {
          "description": "EmbedderBatchSize defines the default batch size used when projecting documents.\n\nApplies when an embedder configuration omits config.batch_size.\nLarger batches improve throughput but may increase provider throttling risk.",
          "type": "integer"
        },
        "max_markdown_file_size_bytes": {
          "description": "MaxMarkdownFileSizeBytes limits the size of markdown files ingested from disk or URLs.\n\nFiles exceeding this threshold are rejected during ingestion.",
          "type": "integer"
        },
        "retrieval_min_score": {
          "description": "RetrievalMinScore sets the default minimum similarity score required for matches.\n\nApplied when retrieval.min_score is not provided. Must fall within [0.0, 1.0].",
          "type": "number"
        },
        "retrieval_top_k": {
          "description": "RetrievalTopK specifies the default number of results returned during retrieval.\n\nUsed when retrieval.top_k is unset on a knowledge binding or base definition.",
          "type": "integer"
        },
        "vector_dbs": {
          "description": "VectorDBs declares global vector database connections available to knowledge features.\nWhen SQLite is selected, at least one external vector database should be configured.",
          "items": {
            "$ref": "#/$defs/config_VectorDBConfig"
          },
          "type": "array"
        },
        "vector_http_timeout": {
          "description": "VectorHTTPTimeout bounds HTTP requests made by knowledge vector backends.\n\nApplies to HTTP-based vector stores such as Qdrant.",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_LLMConfig": {
      "additionalProperties": false,
      "description": "LLMConfig contains LLM service configuration.",
      "properties": {
        "allowed_mcp_names": {
          "description": "AllowedMCPNames restricts which MCP servers/tools are considered eligible\nfor advertisement and invocation. When empty, all discovered MCP tools\nare eligible.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "context_compaction_cooldown": {
          "description": "ContextCompactionCooldown specifies how many loop iterations to wait between compaction attempts.",
          "type": "integer"
        },
        "context_compaction_threshold": {
          "description": "ContextCompactionThreshold expresses the context usage ratio (0-1) that triggers compaction.",
          "type": "number"
        },
        "context_warning_thresholds": {
          "description": "ContextWarningThresholds defines usage ratios (0-1) that trigger telemetry warnings.",
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "default_frequency_penalty": {
          "description": "DefaultFrequencyPenalty sets the default penalty for token frequency.\nPositive values reduce repetition. Range: -2.0 to 2.0.\nDefault: 0.0",
          "type": "number"
        },
        "default_presence_penalty": {
          "description": "DefaultPresencePenalty sets the default penalty for token presence.\nPositive values encourage talking about new topics. Range: -2.0 to 2.0.\nDefault: 0.0",
          "type": "number"
        },
        "default_seed": {
          "description": "DefaultSeed sets the default seed for reproducible outputs.\nValue of 0 means non-deterministic (no seed).\nDefault: 0",
          "type": "integer"
        },
        "default_top_p": {
          "description": "DefaultTopP sets the default nucleus sampling threshold for all LLM requests.\nValue of 0 means use the provider's default. Range: 0.0 to 1.0.\nDefault: 0.0",
          "type": "number"
        },
        "denied_mcp_names": {
          "description": "DeniedMCPNames excludes MCP servers/tools from advertisement and invocation.\nEntries take precedence over the allow list.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "enable_context_compaction": {
          "description": "EnableContextCompaction toggles summary-based compaction when context usage nears limits.",
          "type": "boolean"
        },
        "enable_dynamic_prompt_state": {
          "description": "EnableDynamicPromptState toggles inclusion of orchestrator loop state inside the system prompt.",
          "type": "boolean"
        },
        "enable_loop_restarts": {
          "description": "EnableLoopRestarts toggles whether the orchestrator may restart the loop when no progress is detected.",
          "type": "boolean"
        },
        "enable_progress_tracking": {
          "description": "EnableProgressTracking toggles loop progress tracking to detect stalled\nconversations or repeated tool usage without advancement.\nDefault: false",
          "type": "boolean"
        },
        "fail_on_mcp_registration_error": {
          "description": "FailOnMCPRegistrationError enforces fail-fast behavior when registering\nMCP configurations sourced from agents/projects. When true, MCP\nregistration failures cause service initialization to error.",
          "type": "boolean"
        },
        "finalize_output_retries": {
          "description": "FinalizeOutputRetryAttempts overrides the number of retries allowed when final structured output is invalid.",
          "type": "integer"
        },
        "max_concurrent_tools": {
          "description": "MaxConcurrentTools limits the number of tools that can execute in parallel.\n\nControls resource usage and prevents overwhelming downstream services.\nHigher values improve throughput, lower values reduce resource contention.\nDefault: 10",
          "type": "integer"
        },
        "max_consecutive_successes": {
          "description": "MaxConsecutiveSuccesses controls how many consecutive successful tool calls\nwithout progress are tolerated before the orchestrator halts the loop.\nDefault: 3 (orchestrator default)",
          "type": "integer"
        },
        "max_loop_restarts": {
          "description": "MaxLoopRestarts caps how many restarts are attempted per loop execution.",
          "type": "integer"
        },
        "max_sequential_tool_errors": {
          "description": "MaxSequentialToolErrors caps how many sequential tool execution/content errors\nare tolerated for the same tool before aborting the task. Set to 0 to use\nthe orchestrator's built-in default.\nDefault: 10 (registry default)",
          "type": "integer"
        },
        "max_tool_iterations": {
          "description": "MaxToolIterations caps the maximum number of tool-iteration loops per request.\n\nThis acts as a global default and can be overridden by model-specific configuration\nin project files. Set to 0 to use the orchestrator's built-in default.\nDefault: 100 (registry default)",
          "type": "integer"
        },
        "mcp_client_timeout": {
          "description": "MCPClientTimeout sets the HTTP client timeout for MCP proxy communication.",
          "type": "integer"
        },
        "mcp_header_template_strict": {
          "description": "MCPHeaderTemplateStrict enables strict template validation for MCP HTTP headers.\nWhen true, allows only simple lookups (no pipelines/function calls/inclusions).\nDefault: false",
          "type": "boolean"
        },
        "mcp_readiness_poll_interval": {
          "description": "MCPReadinessPollInterval sets how often to poll the proxy for MCP connection status.\nDefault: 200ms",
          "type": "integer"
        },
        "mcp_readiness_timeout": {
          "description": "MCPReadinessTimeout bounds how long to wait for MCP clients to connect during setup.\nDefault: 60s",
          "type": "integer"
        },
        "no_progress_threshold": {
          "description": "NoProgressThreshold configures how many loop iterations without progress are\ntolerated before the orchestrator considers the interaction stalled.\nDefault: 3 (orchestrator default)",
          "type": "integer"
        },
        "provider_timeout": {
          "description": "ProviderTimeout sets the maximum duration allowed for a single provider invocation.\n\nApplies to each GenerateContent call (including retries) to keep the orchestrator responsive.\nDefault: 5m",
          "type": "integer"
        },
        "proxy_url": {
          "description": "ProxyURL specifies the MCP proxy server endpoint.\n\nThe proxy handles:\n  - MCP server connections\n  - Tool discovery and routing\n  - Protocol translation\nDefault: \"\" (empty; supply MCP proxy URL explicitly or derive from MCPProxy.BaseURL)",
          "type": "string"
        },
        "rate_limiting": {
          "$ref": "#/$defs/config_LLMRateLimitConfig",
          "description": "RateLimiting configures concurrency throttles and provider queues.\n\nThe limiter guards upstream APIs from bursty traffic and honors Retry-After headers.\nDefaults ensure conservative limits that can be tuned per provider."
        },
        "register_mcps": {
          "description": "RegisterMCPs contains additional MCP configurations to be registered\nwith the MCP proxy at runtime. Represented as a generic slice to avoid\nimport cycles with engine packages.",
          "items": {
            "type": "object"
          },
          "type": "array"
        },
        "restart_stall_threshold": {
          "description": "RestartStallThreshold controls how many stalled iterations trigger a loop restart.",
          "type": "integer"
        },
        "retry_attempts": {
          "description": "RetryAttempts configures the number of retry attempts for LLM operations.\n\nControls how many times the orchestrator will retry failed LLM requests\nbefore giving up. Higher values improve reliability but may increase latency.\nDefault: 3",
          "type": "integer"
        },
        "retry_backoff_base": {
          "description": "RetryBackoffBase sets the base delay for exponential backoff retry strategy.\n\nThe actual delay will be calculated as base * (2 ^ attempt) with optional jitter.\nLower values retry faster, higher values reduce server load.\nDefault: 100ms",
          "type": "integer"
        },
        "retry_backoff_max": {
          "description": "RetryBackoffMax limits the maximum delay between retry attempts.\n\nPrevents exponential backoff from creating extremely long delays.\nShould be set based on user tolerance for response time.\nDefault: 10s",
          "type": "integer"
        },
        "retry_jitter": {
          "description": "RetryJitter enables random jitter in retry delays to avoid thundering herd.\n\nWhen enabled, adds randomness to retry delays to prevent all clients\nfrom retrying simultaneously. Improves system stability under load.\nDefault: true",
          "type": "boolean"
        },
        "retry_jitter_percent": {
          "description": "RetryJitterPercent controls jitter strength when retry_jitter is enabled.",
          "type": "integer"
        },
        "structured_output_retries": {
          "description": "StructuredOutputRetryAttempts controls how many validation retries are attempted before failing.\n\nWhen set to 0, the orchestrator default (2) is used.",
          "type": "integer"
        },
        "tool_call_caps": {
          "$ref": "#/$defs/config_ToolCallCapsConfig",
          "description": "ToolCallCaps configures per-tool invocation caps enforced during orchestration."
        },
        "usage_metrics": {
          "$ref": "#/$defs/config_LLMUsageMetricsConfig",
          "description": "UsageMetrics configures observability knobs for usage persistence.\n\nAllows operators to tune histogram buckets collected by the usage repository."
        }
      },
      "type": "object"
    },
    "config_LLMRateLimitConfig": {
      "additionalProperties": false,
      "description": "LLMRateLimitConfig defines shared throttling settings for provider calls.",
      "properties": {
        "default_concurrency": {
          "description": "DefaultConcurrency limits concurrent requests per provider when overrides are absent.\nZero defers to registry defaults; values beyond provider quotas are discouraged.",
          "type": "integer"
        },
        "default_queue_size": {
          "description": "DefaultQueueSize bounds queued work waiting for a concurrency slot.\nZero disables queuing and causes immediate rejection when the pool is saturated.",
          "type": "integer"
        },
        "default_release_slot_before_token_wait": {
          "description": "DefaultReleaseSlotBeforeTokenWait releases concurrency slots before waiting on token budgets when true.\nThis favors throughput over strict slot ownership and may reduce head-of-line blocking.",
          "type": "boolean"
        },
        "default_request_burst": {
          "description": "DefaultRequestBurst overrides the burst size used for request-per-minute limiters.\nZero falls back to ceiling(perSecond) for compatibility.",
          "type": "integer"
        },
        "default_requests_per_minute": {
          "description": "DefaultRequestsPerMinute throttles average request throughput when per-provider overrides\nare not supplied. Zero disables request-rate shaping.",
          "type": "integer"
        },
        "default_token_burst": {
          "description": "DefaultTokenBurst overrides the burst size used for token-per-minute limiters.\nZero falls back to ceiling(perSecond) for compatibility.",
          "type": "integer"
        },
        "default_tokens_per_minute": {
          "description": "DefaultTokensPerMinute constrains total tokens consumed per minute when overrides are absent.\nZero disables token-based shaping.",
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        },
        "per_provider_limits": {
          "additionalProperties": {
            "$ref": "#/$defs/config_ProviderRateLimitConfig"
          },
          "description": "PerProviderLimits customizes concurrency and queue depth for specific providers.\nKeys should match provider names (e.g., \"openai\", \"groq\").",
          "type": "object"
        }
      },
      "type": "object"
    },
    "config_LLMStreamConfig": {
      "additionalProperties": false,
      "description": "LLMStreamConfig defines tunables for LLM fallback streaming behavior.",
      "properties": {
        "fallback_segment_limit": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_LLMUsageMetricsConfig": {
      "additionalProperties": false,
      "description": "LLMUsageMetricsConfig exposes tuning knobs for usage repository telemetry.",
      "properties": {
        "persist_buckets": {
          "items": {
            "type": "number"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "config_LimitsConfig": {
      "additionalProperties": false,
      "description": "LimitsConfig contains system limits and constraints.",
      "properties": {
        "max_config_file_nesting_depth": {
          "description": "MaxConfigFileNestingDepth limits nesting depth when parsing configuration files.\n\nPrevents stack overflow from deeply nested YAML documents supplied by users.\nDefault: 100",
          "type": "integer"
        },
        "max_config_file_size": {
          "description": "MaxConfigFileSize limits configuration file size during loads.\n\nPrevents memory exhaustion when loading large YAML/JSON documents.\nDefault: 10MB (10485760 bytes)",
          "type": "integer"
        },
        "max_message_content": {
          "description": "MaxMessageContent limits LLM message content size.\n\nPrevents excessive API costs and timeouts.\nDefault: 50MB (52428800 bytes)",
          "type": "integer"
        },
        "max_nesting_depth": {
          "description": "MaxNestingDepth limits JSON/YAML structure nesting.\n\nPrevents stack overflow from deeply nested data.\nDefault: 20",
          "type": "integer"
        },
        "max_string_length": {
          "description": "MaxStringLength limits individual string values.\n\nApplies to all string fields in requests and responses.\nDefault: 10MB (10485760 bytes)",
          "type": "integer"
        },
        "max_task_context_depth": {
          "description": "MaxTaskContextDepth limits task execution stack depth.\n\nPrevents infinite recursion in workflow execution.\nDefault: 10",
          "type": "integer"
        },
        "max_total_content_size": {
          "description": "MaxTotalContentSize limits total request/response size.\n\nPrevents memory exhaustion from large payloads.\nDefault: 100MB (104857600 bytes)",
          "type": "integer"
        },
        "parent_update_batch_size": {
          "description": "ParentUpdateBatchSize controls database update batching.\n\nLarger batches improve throughput but increase memory usage.\nDefault: 100",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_MCPProxyConfig": {
      "additionalProperties": false,
      "description": "MCPProxyConfig contains MCP proxy server configuration.",
      "properties": {
        "base_url": {
          "description": "BaseURL specifies the base URL for MCP proxy API endpoints.\n\n**Default**: `\"\"` (empty string)",
          "type": "string"
        },
        "host": {
          "description": "Host specifies the network interface to bind the MCP proxy server to.\n\n**Default**: `\"0.0.0.0\"`",
          "type": "string"
        },
        "idle_conn_timeout": {
          "description": "IdleConnTimeout is the maximum amount of time an idle (keep-alive) connection will remain\nidle before closing itself.\n\n**Default**: `90s`",
          "type": "integer"
        },
        "max_conns_per_host": {
          "description": "MaxConnsPerHost caps the total number of simultaneous connections per host.\n\n**Default**: `128`",
          "type": "integer"
        },
        "max_idle_conns": {
          "description": "MaxIdleConns controls the maximum number of idle (keep-alive) connections across all hosts.\n\n**Default**: `128`",
          "type": "integer"
        },
        "max_idle_conns_per_host": {
          "description": "MaxIdleConnsPerHost controls the maximum idle (keep-alive) connections to keep per-host.\n\n**Default**: `128`",
          "type": "integer"
        },
        "mode": {
          "description": "Mode controls how the MCP proxy runs within Compozy.\n\nValues:\n  - \"memory\": Embed the MCP proxy inside the server with in-memory state\n  - \"persistent\": Embed the MCP proxy with durable on-disk state\n  - \"distributed\": Delegate to an external MCP proxy endpoint\n  - \"\": Inherit the global deployment mode (default)\n\nWhen embedded, the server manages lifecycle and health of the proxy\nand will set LLM.ProxyURL if empty.",
          "type": "string"
        },
        "port": {
          "description": "Port specifies the TCP port for the MCP proxy server.\n\n**Default**: `0` (ephemeral)",
          "type": "integer"
        },
        "shutdown_timeout": {
          "description": "ShutdownTimeout sets timeout for graceful shutdown.\n\n**Default**: `30s`",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_MemoryConfig": {
      "additionalProperties": false,
      "description": "MemoryConfig contains memory service configuration.",
      "properties": {
        "max_entries": {
          "description": "MaxEntries limits memory entries per conversation.\n\nPrevents unbounded memory growth.\nDefault: 10000",
          "type": "integer"
        },
        "prefix": {
          "description": "Prefix namespaces memory keys in Redis.\n\nPrevents key collisions when sharing Redis.\nDefault: \"compozy:memory:\"",
          "type": "string"
        },
        "ttl": {
          "description": "TTL sets memory entry expiration time.\n\nBalances context retention with storage costs.\nDefault: 24h",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeCallAgentConfig": {
      "additionalProperties": false,
      "description": "NativeCallAgentConfig configures cp__call_agent behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "config_NativeCallAgentsConfig": {
      "additionalProperties": false,
      "description": "NativeCallAgentsConfig configures cp__call_agents behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        },
        "max_concurrent": {
          "description": "MaxConcurrent limits concurrent agent executions; 0 selects sequential execution, negative values are invalid.",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeCallTaskConfig": {
      "additionalProperties": false,
      "description": "NativeCallTaskConfig configures cp__call_task behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "config_NativeCallTasksConfig": {
      "additionalProperties": false,
      "description": "NativeCallTasksConfig configures cp__call_tasks behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        },
        "max_concurrent": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeCallWorkflowConfig": {
      "additionalProperties": false,
      "description": "NativeCallWorkflowConfig configures cp__call_workflow behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "config_NativeCallWorkflowsConfig": {
      "additionalProperties": false,
      "description": "NativeCallWorkflowsConfig configures cp__call_workflows behavior.",
      "properties": {
        "default_timeout": {
          "type": "integer"
        },
        "enabled": {
          "type": "boolean"
        },
        "max_concurrent": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeExecArgumentConfig": {
      "additionalProperties": false,
      "description": "NativeExecArgumentConfig enforces validation for a single argument position.",
      "properties": {
        "enum": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "index": {
          "type": "integer"
        },
        "optional": {
          "type": "boolean"
        },
        "pattern": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_NativeExecCommandConfig": {
      "additionalProperties": false,
      "description": "NativeExecCommandConfig defines per-command execution policies.",
      "properties": {
        "allow_additional": {
          "type": "boolean"
        },
        "arguments": {
          "items": {
            "$ref": "#/$defs/config_NativeExecArgumentConfig"
          },
          "type": "array"
        },
        "description": {
          "type": "string"
        },
        "max_args": {
          "type": "integer"
        },
        "path": {
          "type": "string"
        },
        "timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeExecConfig": {
      "additionalProperties": false,
      "description": "NativeExecConfig holds cp__exec configuration knobs.",
      "properties": {
        "allowlist": {
          "items": {
            "$ref": "#/$defs/config_NativeExecCommandConfig"
          },
          "type": "array"
        },
        "max_stderr_bytes": {
          "type": "integer"
        },
        "max_stdout_bytes": {
          "type": "integer"
        },
        "timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeFetchConfig": {
      "additionalProperties": false,
      "description": "NativeFetchConfig holds cp__fetch configuration knobs.",
      "properties": {
        "allowed_methods": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "max_body_bytes": {
          "type": "integer"
        },
        "max_redirects": {
          "type": "integer"
        },
        "timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_NativeToolsConfig": {
      "additionalProperties": false,
      "description": "NativeToolsConfig controls cp__ builtin enablement and sandbox settings.",
      "properties": {
        "additional_roots": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "call_agent": {
          "$ref": "#/$defs/config_NativeCallAgentConfig",
          "description": "CallAgent configures single agent execution through cp__call_agent."
        },
        "call_agents": {
          "$ref": "#/$defs/config_NativeCallAgentsConfig",
          "description": "CallAgents governs multi-agent orchestration for cp__call_agents."
        },
        "call_task": {
          "$ref": "#/$defs/config_NativeCallTaskConfig",
          "description": "CallTask configures single task execution through cp__call_task."
        },
        "call_tasks": {
          "$ref": "#/$defs/config_NativeCallTasksConfig",
          "description": "CallTasks governs parallel task execution for cp__call_tasks."
        },
        "call_workflow": {
          "$ref": "#/$defs/config_NativeCallWorkflowConfig",
          "description": "CallWorkflow configures single workflow execution via cp__call_workflow."
        },
        "call_workflows": {
          "$ref": "#/$defs/config_NativeCallWorkflowsConfig",
          "description": "CallWorkflows governs parallel workflow execution via cp__call_workflows."
        },
        "enabled": {
          "type": "boolean"
        },
        "exec": {
          "$ref": "#/$defs/config_NativeExecConfig"
        },
        "fetch": {
          "$ref": "#/$defs/config_NativeFetchConfig"
        },
        "root_dir": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_ProviderRateLimitConfig": {
      "additionalProperties": false,
      "description": "ProviderRateLimitConfig describes concurrency limits for a single provider.",
      "properties": {
        "concurrency": {
          "type": "integer"
        },
        "queue_size": {
          "type": "integer"
        },
        "release_slot_before_token_wait": {
          "description": "ReleaseSlotBeforeTokenWait releases concurrency slots before token waits when true; nil inherits defaults.",
          "type": "boolean"
        },
        "request_burst": {
          "description": "RequestBurst overrides the burst size for request-per-minute limiters. Zero defers to defaults.",
          "type": "integer"
        },
        "requests_per_minute": {
          "description": "RequestsPerMinute limits average throughput; zero disables the limiter.",
          "type": "integer"
        },
        "token_burst": {
          "description": "TokenBurst overrides the burst size for token-per-minute limiters. Zero defers to defaults.",
          "type": "integer"
        },
        "tokens_per_minute": {
          "description": "TokensPerMinute constrains the total tokens consumed per minute; zero disables shaping.",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_RateConfig": {
      "additionalProperties": false,
      "description": "RateConfig represents a single rate limit configuration.",
      "properties": {
        "limit": {
          "description": "Limit specifies the maximum number of requests allowed.\n\nMust be greater than 0.\nExample: 100 for 100 requests per period",
          "type": "integer"
        },
        "period": {
          "description": "Period defines the time window for the rate limit.\n\nCommon values:\n  - `\"1s\"`: Per second\n  - `\"1m\"`: Per minute\n  - `\"1h\"`: Per hour\n  - `\"24h\"`: Per day",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_RateLimitConfig": {
      "additionalProperties": false,
      "description": "RateLimitConfig contains rate limiting configuration.",
      "properties": {
        "api_key_rate": {
          "$ref": "#/$defs/config_RateConfig",
          "description": "APIKeyRate applies per API key.\n\nEnsures fair usage across different clients."
        },
        "global_rate": {
          "$ref": "#/$defs/config_RateConfig",
          "description": "GlobalRate applies to all requests system-wide.\n\nProtects against total system overload."
        },
        "max_retry": {
          "description": "MaxRetry sets retry attempts for rate-limited requests.\n\nDefault: 3",
          "type": "integer"
        },
        "prefix": {
          "description": "Prefix namespaces rate limit keys in Redis.\n\nDefault: \"ratelimit:\"",
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_ReconcilerConfig": {
      "additionalProperties": false,
      "description": "ReconcilerConfig defines tunable options for the workflow reconciler.",
      "properties": {
        "debounce_max_wait": {
          "type": "integer"
        },
        "debounce_wait": {
          "type": "integer"
        },
        "queue_capacity": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_RedisConfig": {
      "additionalProperties": false,
      "description": "RedisConfig contains Redis connection configuration.",
      "properties": {
        "db": {
          "description": "DB selects the Redis database number.\n\nDefault: 0",
          "type": "integer"
        },
        "dial_timeout": {
          "description": "DialTimeout sets timeout for establishing new connections.\n\nDefault: 5s",
          "type": "integer"
        },
        "host": {
          "description": "Host specifies the Redis server hostname or IP address.\n\nDefault: \"localhost\"",
          "type": "string"
        },
        "max_idle_conns": {
          "description": "MaxIdleConns sets the maximum number of idle connections.\n\nDefault: 0",
          "type": "integer"
        },
        "max_retries": {
          "description": "MaxRetries sets the maximum number of retries before giving up.\n\nDefault: 3",
          "type": "integer"
        },
        "max_retry_backoff": {
          "description": "MaxRetryBackoff sets maximum backoff between retries.\n\nDefault: 512ms",
          "type": "integer"
        },
        "min_idle_conns": {
          "description": "MinIdleConns sets the minimum number of idle connections.\n\nDefault: 0",
          "type": "integer"
        },
        "min_retry_backoff": {
          "description": "MinRetryBackoff sets minimum backoff between retries.\n\nDefault: 8ms",
          "type": "integer"
        },
        "mode": {
          "description": "Mode controls Redis deployment model.\n\nValues:\n  - \"\" (empty): Inherit from global Config.Mode\n  - \"memory\": Use embedded Redis without persistence\n  - \"persistent\": Use embedded Redis with persistence enabled\n  - \"distributed\": Use external Redis (explicit override)",
          "type": "string"
        },
        "notification_buffer_size": {
          "description": "NotificationBufferSize sets buffer size for pub/sub notifications.\n\nDefault: 100",
          "type": "integer"
        },
        "password": {
          "description": "Password authenticates with Redis.\n\n**Security**: Use environment variables in production.",
          "type": "string"
        },
        "ping_timeout": {
          "description": "PingTimeout sets timeout for ping command.\n\nDefault: 1s",
          "type": "integer"
        },
        "pool_size": {
          "description": "PoolSize sets the maximum number of socket connections.\n\nDefault: 10 per CPU",
          "type": "integer"
        },
        "pool_timeout": {
          "description": "PoolTimeout sets timeout for getting connection from pool.\n\nDefault: ReadTimeout + 1s",
          "type": "integer"
        },
        "port": {
          "description": "Port specifies the Redis server port as a string.\n\n**Format**: String representation of port number (1-65535)\n**YAML**: Both \"6379\" (quoted) and 6379 (numeric) are accepted\n**Breaking Change**: Changed from int to string in v2.0.0\n\nDefault: \"6379\"",
          "type": "string"
        },
        "read_timeout": {
          "description": "ReadTimeout sets timeout for socket reads.\n\nDefault: 3s",
          "type": "integer"
        },
        "standalone": {
          "$ref": "#/$defs/config_EmbeddedRedisConfig",
          "description": "Standalone config defines embedded Redis options used in memory and persistent modes."
        },
        "tls_enabled": {
          "description": "TLSEnabled enables TLS encryption.\n\nDefault: false",
          "type": "boolean"
        },
        "url": {
          "description": "URL provides a complete Redis connection string.\n\nFormat: `redis://[user:password@]host:port/db`\nTakes precedence over individual connection parameters.",
          "type": "string"
        },
        "write_timeout": {
          "description": "WriteTimeout sets timeout for socket writes.\n\nDefault: ReadTimeout",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_RedisPersistenceConfig": {
      "additionalProperties": false,
      "description": "RedisPersistenceConfig defines snapshot settings for embedded Redis.",
      "properties": {
        "data_dir": {
          "type": "string"
        },
        "enabled": {
          "type": "boolean"
        },
        "restore_on_startup": {
          "type": "boolean"
        },
        "snapshot_interval": {
          "type": "integer"
        },
        "snapshot_on_shutdown": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "config_RuntimeConfig": {
      "additionalProperties": false,
      "description": "RuntimeConfig contains runtime behavior configuration.",
      "properties": {
        "async_token_counter_buffer_size": {
          "description": "AsyncTokenCounterBufferSize sets the token counter queue size.\n\nLarger buffers handle traffic spikes better but use more memory.\nDefault: 100",
          "type": "integer"
        },
        "async_token_counter_workers": {
          "description": "AsyncTokenCounterWorkers sets the number of token counting workers.\n\nMore workers improve throughput for high-volume token counting.\nDefault: 4",
          "type": "integer"
        },
        "bun_permissions": {
          "description": "BunPermissions defines runtime security permissions for Bun.\n\nDefault: [\"--allow-read\"]",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "dispatcher_heartbeat_interval": {
          "description": "DispatcherHeartbeatInterval sets how often dispatchers report health.\n\nLower values provide faster failure detection but increase load.\nDefault: 30s",
          "type": "integer"
        },
        "dispatcher_heartbeat_ttl": {
          "description": "DispatcherHeartbeatTTL sets heartbeat expiration time.\n\nMust be greater than heartbeat interval to handle network delays.\nDefault: 90s",
          "type": "integer"
        },
        "dispatcher_stale_threshold": {
          "description": "DispatcherStaleThreshold defines when a dispatcher is considered failed.\n\nTriggers reassignment of dispatcher's workflows.\nDefault: 120s",
          "type": "integer"
        },
        "entrypoint_path": {
          "description": "EntrypointPath specifies the path to the JavaScript/TypeScript entrypoint file.\nLeave empty to disable custom TypeScript tools and rely on built-in capabilities.",
          "type": "string"
        },
        "environment": {
          "description": "Environment specifies the deployment environment.\n\nAffects:\n  - Error verbosity and stack traces\n  - Performance optimizations\n  - Debug endpoints availability\n  - Default timeouts and limits\n\nValues: \"development\", \"staging\", \"production\"",
          "type": "string"
        },
        "log_level": {
          "description": "LogLevel controls logging verbosity.\n\nLevels (least to most verbose):\n  - `\"error\"`: Critical errors only\n  - `\"warn\"`: Warnings and errors\n  - `\"info\"`: General operational info (default)\n  - `\"debug\"`: Detailed debugging information",
          "type": "string"
        },
        "native_tools": {
          "$ref": "#/$defs/config_NativeToolsConfig",
          "description": "NativeTools configures native cp__ tool behavior and guards."
        },
        "runtime_type": {
          "description": "RuntimeType specifies the JavaScript runtime to use for tool execution.\n\nValues: \"bun\", \"node\"\nDefault: \"bun\"",
          "type": "string"
        },
        "task_execution_timeout_default": {
          "description": "TaskExecutionTimeoutDefault controls the fallback timeout applied when direct task executions\nomit a timeout value. Applies to synchronous and asynchronous direct executions triggered via API.\nDefault: 60s",
          "type": "integer"
        },
        "task_execution_timeout_max": {
          "description": "TaskExecutionTimeoutMax caps the maximum timeout allowed for direct task executions.\nClient-specified or configuration-derived timeouts exceeding this value are rejected.\nDefault: 300s",
          "type": "integer"
        },
        "tool_execution_timeout": {
          "description": "ToolExecutionTimeout sets the maximum time for tool execution.\n\nPrevents runaway tools from blocking workflows.\nDefault: 60s",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_ServerConfig": {
      "additionalProperties": false,
      "description": "ServerConfig contains HTTP server configuration.",
      "properties": {
        "auth": {
          "$ref": "#/$defs/config_AuthConfig",
          "description": "Auth configures API authentication settings."
        },
        "cors": {
          "$ref": "#/$defs/config_CORSConfig",
          "description": "CORS configures Cross-Origin Resource Sharing policies.\n\nOnly applies when CORSEnabled is true."
        },
        "cors_enabled": {
          "description": "CORSEnabled enables Cross-Origin Resource Sharing headers.\n\nSet to `true` when the API is accessed from web browsers on different origins.",
          "type": "boolean"
        },
        "host": {
          "description": "Host specifies the network interface to bind the server to.\n\nCommon values:\n  - `\"0.0.0.0\"`: Listen on all interfaces (default)\n  - `\"127.0.0.1\"` or `\"localhost\"`: Local access only\n  - Specific IP: Bind to a specific network interface",
          "type": "string"
        },
        "port": {
          "description": "Port specifies the TCP port for the HTTP server.\n\nValid range: 1-65535. Common ports:\n  - `8080`: Default development port\n  - `80`: Standard HTTP (requires privileges)\n  - `443`: Standard HTTPS (requires privileges)",
          "type": "integer"
        },
        "reconciler": {
          "$ref": "#/$defs/config_ReconcilerConfig",
          "description": "Reconciler configures the workflow reconciler subsystem."
        },
        "seed_from_repo_on_empty": {
          "description": "SeedFromRepoOnEmpty controls whether builder mode seeds the store from\nrepository YAML once when the store is empty. Disabled by default.",
          "type": "boolean"
        },
        "source_of_truth": {
          "description": "SourceOfTruth selects where the server loads workflows from.\n\nValues:\n  - \"repo\": load YAML from repository and index to store (default)\n  - \"builder\": load workflows from ResourceStore (compile-from-store)",
          "type": "string"
        },
        "timeout": {
          "description": "Timeout sets the maximum duration for processing requests.\n\nApplies to all HTTP operations including request reading, processing, and response writing.\nDefault: 30s. Increase for long-running operations.",
          "type": "integer"
        },
        "timeouts": {
          "$ref": "#/$defs/config_ServerTimeouts",
          "description": "Timeouts contains operator-tunable timeouts and retry/backoff settings\nfor server startup, shutdown, and HTTP behavior.\n\n$ref: schema://application#server.timeouts"
        }
      },
      "type": "object"
    },
    "config_ServerTimeouts": {
      "additionalProperties": false,
      "description": "ServerTimeouts defines tunable durations for server operations.",
      "properties": {
        "db_shutdown": {
          "type": "integer"
        },
        "http_idle": {
          "type": "integer"
        },
        "http_read": {
          "type": "integer"
        },
        "http_read_header": {
          "type": "integer"
        },
        "http_write": {
          "type": "integer"
        },
        "knowledge_ingest": {
          "description": "KnowledgeIngest bounds startup knowledge ingestion executions.\nApplies to ingestKnowledgeBasesOnStart. Zero disables the timeout.",
          "type": "integer"
        },
        "monitoring_init": {
          "type": "integer"
        },
        "monitoring_shutdown": {
          "type": "integer"
        },
        "schedule_retry_backoff_seconds": {
          "description": "ScheduleRetryBackoffSeconds sets the base backoff in seconds used to build\nthe exponential backoff for reconciliation retries. If zero, a sensible\ndefault is applied in code.",
          "type": "integer"
        },
        "schedule_retry_base_delay": {
          "type": "integer"
        },
        "schedule_retry_max_attempts": {
          "description": "ScheduleRetryMaxAttempts limits the number of reconciliation retry attempts.\nWhen set to a value \u003e= 1, this takes precedence over ScheduleRetryMaxDuration.",
          "type": "integer"
        },
        "schedule_retry_max_delay": {
          "type": "integer"
        },
        "schedule_retry_max_duration": {
          "type": "integer"
        },
        "server_shutdown": {
          "type": "integer"
        },
        "start_probe_delay": {
          "type": "integer"
        },
        "temporal_reachability": {
          "type": "integer"
        },
        "worker_shutdown": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_StreamConfig": {
      "additionalProperties": false,
      "description": "StreamConfig holds defaults for streaming endpoints.",
      "properties": {
        "agent": {
          "$ref": "#/$defs/config_AgentStreamConfig"
        },
        "llm": {
          "$ref": "#/$defs/config_LLMStreamConfig"
        },
        "task": {
          "$ref": "#/$defs/config_TaskStreamEndpointConfig"
        },
        "workflow": {
          "$ref": "#/$defs/config_WorkflowStreamConfig"
        }
      },
      "type": "object"
    },
    "config_TaskChildStateRetryConfig": {
      "additionalProperties": false,
      "description": "TaskChildStateRetryConfig defines retry strategy for child state lookups.",
      "properties": {
        "base_backoff": {
          "type": "integer"
        },
        "max_attempts": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_TaskRetryConfig": {
      "additionalProperties": false,
      "description": "TaskRetryConfig captures retry behavior for dependent lookups.",
      "properties": {
        "child_state": {
          "$ref": "#/$defs/config_TaskChildStateRetryConfig"
        }
      },
      "type": "object"
    },
    "config_TaskSiblingWaitConfig": {
      "additionalProperties": false,
      "description": "TaskSiblingWaitConfig tunes sibling polling behavior.",
      "properties": {
        "poll_interval": {
          "type": "integer"
        },
        "timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_TaskStreamConfig": {
      "additionalProperties": false,
      "description": "TaskStreamConfig limits stream chunk publication.",
      "properties": {
        "max_chunks": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_TaskStreamEndpointConfig": {
      "additionalProperties": false,
      "description": "TaskStreamEndpointConfig defines tunables for task streaming endpoints.",
      "properties": {
        "default_poll": {
          "type": "integer"
        },
        "heartbeat_frequency": {
          "type": "integer"
        },
        "max_poll": {
          "type": "integer"
        },
        "min_poll": {
          "type": "integer"
        },
        "redis_channel_prefix": {
          "type": "string"
        },
        "redis_log_prefix": {
          "type": "string"
        },
        "redis_max_entries": {
          "type": "integer"
        },
        "redis_seq_prefix": {
          "type": "string"
        },
        "redis_ttl": {
          "type": "integer"
        },
        "replay_limit": {
          "type": "integer"
        },
        "text": {
          "$ref": "#/$defs/config_TaskTextStreamConfig"
        }
      },
      "type": "object"
    },
    "config_TaskTextStreamConfig": {
      "additionalProperties": false,
      "description": "TaskTextStreamConfig defines tunables for plain-text task streaming.",
      "properties": {
        "max_segment_runes": {
          "type": "integer"
        },
        "publish_timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_TaskWaitConfig": {
      "additionalProperties": false,
      "description": "TaskWaitConfig captures sibling wait tunables.",
      "properties": {
        "siblings": {
          "$ref": "#/$defs/config_TaskSiblingWaitConfig"
        }
      },
      "type": "object"
    },
    "config_TasksConfig": {
      "additionalProperties": false,
      "description": "TasksConfig aggregates task execution tunables.",
      "properties": {
        "retry": {
          "$ref": "#/$defs/config_TaskRetryConfig"
        },
        "stream": {
          "$ref": "#/$defs/config_TaskStreamConfig"
        },
        "wait": {
          "$ref": "#/$defs/config_TaskWaitConfig"
        }
      },
      "type": "object"
    },
    "config_TemporalConfig": {
      "additionalProperties": false,
      "description": "TemporalConfig contains Temporal workflow engine configuration.",
      "properties": {
        "host_port": {
          "description": "HostPort specifies the Temporal server endpoint.\n\nFormat: `host:port`\nDefault: \"localhost:7233\"",
          "type": "string"
        },
        "mode": {
          "description": "Mode controls how the application connects to Temporal.\n\nValues:\n  - \"memory\": Launch embedded Temporal with in-memory persistence for the fastest feedback loops (default)\n  - \"persistent\": Launch embedded Temporal with file-backed persistence for stateful local development\n  - \"distributed\": Connect to an external Temporal deployment for production workloads",
          "type": "string"
        },
        "namespace": {
          "description": "Namespace isolates workflows within Temporal.\n\nUse different namespaces for:\n  - Environment separation (dev, staging, prod)\n  - Multi-tenant deployments\n  - Workflow versioning\nDefault: \"default\"",
          "type": "string"
        },
        "standalone": {
          "$ref": "#/$defs/config_EmbeddedTemporalConfig",
          "description": "Standalone configures the embedded Temporal server used by memory and persistent modes."
        },
        "task_queue": {
          "description": "TaskQueue identifies the queue for workflow tasks.\n\nWorkers poll this queue for tasks to execute.\nUse different queues for:\n  - Workflow type separation\n  - Priority-based routing\n  - Resource isolation\nDefault: \"compozy-tasks\"",
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_ToolCallCapsConfig": {
      "additionalProperties": false,
      "description": "ToolCallCapsConfig captures default and per-tool invocation caps.",
      "properties": {
        "default": {
          "type": "integer"
        },
        "overrides": {
          "additionalProperties": {
            "type": "integer"
          },
          "type": "object"
        }
      },
      "type": "object"
    },
    "config_VectorDBConfig": {
      "additionalProperties": false,
      "description": "VectorDBConfig describes an external vector database integration available at runtime.",
      "properties": {
        "id": {
          "type": "string"
        },
        "options": {
          "type": "object"
        },
        "path": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "config_WebhooksConfig": {
      "additionalProperties": false,
      "description": "WebhooksConfig contains webhook processing and validation configuration.",
      "properties": {
        "default_dedupe_ttl": {
          "description": "DefaultDedupeTTL sets the default time-to-live for webhook deduplication.\nDefault: 10m (10 minutes)\nMust be non-negative",
          "type": "integer"
        },
        "default_max_body": {
          "description": "DefaultMaxBody caps the maximum size (in bytes) for webhook request bodies.\nDefault: 1,048,576 (1MB)\nMust be greater than 0",
          "type": "integer"
        },
        "default_method": {
          "description": "DefaultMethod specifies the default HTTP method for webhook requests.\nDefault: \"POST\"\nValid values: GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS",
          "type": "string"
        },
        "stripe_skew": {
          "description": "StripeSkew sets the allowed timestamp skew for Stripe webhook verification.\nDefault: 5m (5 minutes)\nMust be non-negative",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_WorkerConfig": {
      "additionalProperties": false,
      "description": "WorkerConfig contains Temporal worker configuration.",
      "properties": {
        "activity_heartbeat_timeout": {
          "description": "ActivityHeartbeatTimeout defines the default heartbeat window for long-running activities.\n\n**Default**: `30s`",
          "type": "integer"
        },
        "activity_max_retries": {
          "description": "ActivityMaxRetries bounds retry attempts for default activity execution.\n\n**Default**: `3`",
          "type": "integer"
        },
        "activity_start_to_close_timeout": {
          "description": "ActivityStartToCloseTimeout defines the default bounded execution time for retryable activities.\n\n**Default**: `5m`",
          "type": "integer"
        },
        "config_store_ttl": {
          "description": "ConfigStoreTTL sets how long worker configurations are cached.\n\n**Default**: `24h`",
          "type": "integer"
        },
        "dispatcher": {
          "$ref": "#/$defs/config_WorkerDispatcherConfig",
          "description": "Dispatcher defines heartbeat tracking for dispatcher leases."
        },
        "dispatcher_max_retries": {
          "description": "DispatcherMaxRetries sets maximum dispatcher retry attempts.\n\n**Default**: `2`",
          "type": "integer"
        },
        "dispatcher_retry_delay": {
          "description": "DispatcherRetryDelay sets delay between dispatcher retry attempts.\n\n**Default**: `50ms`",
          "type": "integer"
        },
        "error_handler_max_retries": {
          "description": "ErrorHandlerMaxRetries caps retry attempts for error handling activities.\n\n**Default**: `3`",
          "type": "integer"
        },
        "error_handler_timeout": {
          "description": "ErrorHandlerTimeout bounds retries invoked during workflow failure handling logic.\n\n**Default**: `30s`",
          "type": "integer"
        },
        "heartbeat_cleanup_timeout": {
          "description": "HeartbeatCleanupTimeout sets timeout for heartbeat cleanup operations.\n\n**Default**: `5s`",
          "type": "integer"
        },
        "max_concurrent_activity_execution_size": {
          "description": "MaxConcurrentActivityExecutionSize bounds the number of activities a worker executes concurrently.\n\n**Default**: `0` (auto = 2x CPUs)",
          "type": "integer"
        },
        "max_concurrent_local_activity_execution_size": {
          "description": "MaxConcurrentLocalActivityExecutionSize bounds concurrently executing local activities.\n\n**Default**: `0` (auto = 4x CPUs)",
          "type": "integer"
        },
        "max_concurrent_workflow_execution_size": {
          "description": "MaxConcurrentWorkflowExecutionSize bounds the number of workflow tasks executed concurrently.\n\n**Default**: `0` (auto = 1x CPUs)",
          "type": "integer"
        },
        "mcp_proxy_health_check_timeout": {
          "description": "MCPProxyHealthCheckTimeout sets timeout for MCP proxy health checks.\n\n**Default**: `10s`",
          "type": "integer"
        },
        "mcp_shutdown_timeout": {
          "description": "MCPShutdownTimeout sets timeout for MCP server shutdown.\n\n**Default**: `30s`",
          "type": "integer"
        },
        "start_workflow_timeout": {
          "description": "StartWorkflowTimeout bounds the HTTP handler's call to start a\nworkflow execution to avoid hanging requests when Temporal is slow\nor unreachable. If zero or negative, a safe default is used.\n\n**Default**: `5s`",
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_WorkerDispatcherConfig": {
      "additionalProperties": false,
      "description": "WorkerDispatcherConfig holds dispatcher heartbeat tracking configuration.",
      "properties": {
        "heartbeat_ttl": {
          "type": "integer"
        },
        "stale_threshold": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "config_WorkflowStreamConfig": {
      "additionalProperties": false,
      "description": "WorkflowStreamConfig defines tunables for workflow execution streaming.",
      "properties": {
        "default_poll": {
          "type": "integer"
        },
        "heartbeat_frequency": {
          "type": "integer"
        },
        "max_poll": {
          "type": "integer"
        },
        "min_poll": {
          "type": "integer"
        },
        "query_timeout": {
          "type": "integer"
        }
      },
      "type": "object"
    }
  },
  "$id": "compozy.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Complete configuration schema for compozy.yaml including both project and application settings",
  "properties": {
    "attachments": {
      "$ref": "#/$defs/config_AttachmentsConfig",
      "description": "Attachments configures global attachment handling limits and policies.\n\n$ref: schema://application#attachments"
    },
    "author": {
      "$ref": "#/$defs/Author",
      "description": "Author information for the project.\n\n$ref: inline:#author"
    },
    "autoload": {
      "$ref": "autoload.json",
      "description": "AutoLoad configures automatic loading and reloading of project resources during development.\n\n$ref: inline:#autoload\n\n**Development Benefits**:\n  - Hot-reload agents and workflows without restart\n  - Automatic discovery of new resources\n  - Faster iteration cycles\n  - Validation on file changes\n\n**Example**:\n\n```yaml\nautoload:\n  enabled: true\n  strict: true              # Fail on validation errors\n  watch_interval: 2s        # Check for changes every 2 seconds\n  include:\n    - \"agents/**/*.yaml\"\n    - \"workflows/**/*.yaml\"\n    - \"memory/**/*.yaml\"\n  exclude:\n    - \"**/*.tmp\"\n    - \"**/*~\"\n```"
    },
    "cache": {
      "$ref": "#/$defs/config_CacheConfig",
      "description": "Cache configures caching behavior and performance settings.\n\n$ref: schema://application#cache"
    },
    "cli": {
      "$ref": "#/$defs/config_CLIConfig",
      "description": "CLI configures command-line interface behavior.\n\n$ref: schema://application#cli"
    },
    "config": {
      "$ref": "#/$defs/Opts",
      "description": "Opts contains project-wide configuration options for performance tuning and behavior control.\n\n$ref: inline:#project-options"
    },
    "database": {
      "$ref": "#/$defs/config_DatabaseConfig",
      "description": "Database configures the PostgreSQL database connection.\n\n$ref: schema://application#database"
    },
    "description": {
      "description": "Description provides a human-readable explanation of the project's purpose and capabilities.\n\n**Guidelines**:\n  - Be specific about what the project does\n  - Include primary use cases and benefits\n  - Keep it concise (1-3 sentences)\n  - Avoid technical jargon for broader understanding\n\n**Example**: `\"Multi-agent customer support system with automated ticket routing\"`",
      "type": "string"
    },
    "embedders": {
      "description": "Embedders declares project-level embedding providers that can be reused across workflows.",
      "items": {
        "$ref": "embedder.json"
      },
      "type": "array"
    },
    "knowledge": {
      "$ref": "#/$defs/config_KnowledgeConfig",
      "description": "Knowledge configures default behaviors for knowledge ingestion and retrieval.",
      "items": {
        "$ref": "knowledge-binding.json"
      },
      "type": "array"
    },
    "knowledge_bases": {
      "description": "KnowledgeBases declares reusable knowledge base definitions scoped to the project.",
      "items": {
        "$ref": "knowledge-base.json"
      },
      "type": "array"
    },
    "limits": {
      "$ref": "#/$defs/config_LimitsConfig",
      "description": "Limits defines system resource limits and constraints.\n\n$ref: schema://application#limits"
    },
    "llm": {
      "$ref": "#/$defs/config_LLMConfig",
      "description": "LLM configures the LLM proxy service.\n\n$ref: schema://application#llm"
    },
    "mcp_proxy": {
      "$ref": "#/$defs/config_MCPProxyConfig",
      "description": "MCPProxy configures the MCP proxy server.\n\n$ref: schema://application#mcpproxy"
    },
    "memories": {
      "description": "Memories declares project-scoped memory resources that agents and tasks can reference\nby ID. These are indexed into the ResourceStore under the current project and can be\nused across workflows for conversation and state sharing.\n\nExample:\n\n memories:\n   - id: conversation\n     type: buffer\n     persistence:\n       type: in_memory\n\nThe Resource field on memory.Config is optional in project-level definitions and will\ndefault to \"memory\" during validation.",
      "items": {
        "$ref": "memory.json"
      },
      "type": "array"
    },
    "memory": {
      "$ref": "#/$defs/config_MemoryConfig",
      "description": "Memory configures the memory service for agent conversations.\n\n$ref: schema://application#memory"
    },
    "mode": {
      "description": "Mode controls the global deployment model.\n\n\"memory\" (default): In-memory SQLite with embedded services for tests, CI pipelines, and quick prototypes.\n\"persistent\": File-backed SQLite with embedded services for local development that needs state between runs.\n\"distributed\": PostgreSQL with external Temporal/Redis for production-grade deployments.",
      "type": "string"
    },
    "models": {
      "description": "Models configures the LLM providers and model settings available to this project.\n\n$ref: schema://provider\n\n**Multi-Model Support**:\n  - Configure multiple providers for redundancy\n  - Different models for different tasks (cost/performance optimization)\n  - Fallback chains for high availability\n\n**Supported Providers**:\n  - OpenAI (GPT-4, GPT-3.5, etc.)\n  - Anthropic (Claude models)\n  - Google (Gemini models)\n  - Groq (Fast inference)\n  - Ollama (Local models)\n  - Custom providers via API compatibility\n\n**Example**:\n\n```yaml\nmodels:\n # Primary model for complex reasoning\n - provider: openai\n   model: gpt-4-turbo\n   api_key: \"{{ .env.OPENAI_API_KEY }}\"\n   temperature: 0.7\n   max_tokens: 4000\n\n # Fallback for cost optimization\n - provider: anthropic\n   model: claude-3-haiku\n   api_key: \"{{ .env.ANTHROPIC_API_KEY }}\"\n\n # Local model for sensitive data\n - provider: ollama\n   model: llama2:13b\n   api_url: http://localhost:11434\n```",
      "items": {
        "$ref": "#/$defs/ProviderConfig"
      },
      "type": "array"
    },
    "monitoring": {
      "$ref": "monitoring.json",
      "description": "MonitoringConfig enables observability and metrics collection for performance tracking.\n\n$ref: inline:#monitoring"
    },
    "name": {
      "description": "Name is the unique identifier for this Compozy project.\n\n**Requirements**:\n  - Must be unique within your Compozy installation\n  - Alphanumeric characters, hyphens, and underscores only\n  - Cannot start with a number\n  - Maximum 63 characters\n\n- **Examples**: `\"customer-support-ai\"`, `\"data-pipeline\"`, `\"content-generator\"`",
      "type": "string"
    },
    "ratelimit": {
      "$ref": "#/$defs/config_RateLimitConfig",
      "description": "RateLimit configures API rate limiting.\n\n$ref: schema://application#ratelimit"
    },
    "redis": {
      "$ref": "#/$defs/config_RedisConfig",
      "description": "Redis configures the Redis connection for all services.\n\n$ref: schema://application#redis"
    },
    "runtime": {
      "$ref": "#/$defs/RuntimeConfig",
      "description": "Runtime specifies the JavaScript/TypeScript execution environment for custom tools.\nNOTE: Runtime configuration has been moved to global config (pkg/config.RuntimeConfig)\nThis field is kept for backwards compatibility and project-specific overrides.\n\n$ref: schema://application#runtime"
    },
    "schemas": {
      "description": "Schemas defines the data validation schemas used throughout the project workflows.\n\n**Schema Benefits**:\n  - Type safety for workflow inputs/outputs\n  - Early error detection and validation\n  - Self-documenting data contracts\n  - IDE autocomplete support\n\n**Example**:\n\n```yaml\nschemas:\n - id: user-input\n   schema:\n     type: object\n     properties:\n       name:\n         type: string\n         minLength: 1\n       age:\n         type: integer\n         minimum: 0\n     required: [\"name\"]\n```",
      "items": {
        "$ref": "#/$defs/Schema"
      },
      "type": "array"
    },
    "server": {
      "$ref": "#/$defs/config_ServerConfig",
      "description": "Server configures the HTTP API server settings.\n\n$ref: schema://application#server"
    },
    "stream": {
      "$ref": "#/$defs/config_StreamConfig",
      "description": "Stream configures real-time streaming defaults."
    },
    "system_runtime": {
      "$ref": "#/$defs/config_RuntimeConfig",
      "description": "Runtime configures system runtime behavior and performance.\n\n$ref: schema://application#runtime"
    },
    "tasks": {
      "$ref": "#/$defs/config_TasksConfig",
      "description": "Tasks configures task execution tunables."
    },
    "temporal": {
      "$ref": "#/$defs/config_TemporalConfig",
      "description": "Temporal configures the workflow engine connection.\n\n$ref: schema://application#temporal"
    },
    "tools": {
      "description": "Tools defines shared tool definitions available to all workflows and agents\nwithin this project. These tools are inherited unless explicitly overridden.\n\n**Inheritance Rules**:\n  - Agent tools completely override inheritance when present\n  - Workflow tools override project tools by ID\n  - Tool ID collisions resolved by precedence: Agent \u003e Workflow \u003e Project\n\n**Location \u0026 autoload**:\n  - Place reusable tool configuration files under the `tools/` directory (e.g., `tools/*.yaml`)\n  - If autoload is enabled, files in `tools/` will be discovered and validated automatically\n\n**Example**:\n\n```yaml\ntools:\n  - id: code-analyzer\n    description: Analyzes code quality and patterns\n    timeout: 30s\n  - id: data-processor\n    description: Processes and transforms data\n```",
      "items": {
        "$ref": "tool.json"
      },
      "type": "array"
    },
    "vector_dbs": {
      "description": "VectorDBs declares project-level vector database connections that knowledge bases can reference.",
      "items": {
        "$ref": "vectordb.json"
      },
      "type": "array"
    },
    "version": {
      "description": "Version specifies the semantic version of this project configuration.\n\n**Format**: Follows [Semantic Versioning 2.0.0](https://semver.org/)\n  - `MAJOR.MINOR.PATCH` (e.g., `1.2.3`)\n  - Optional pre-release: `1.0.0-alpha.1`\n  - Optional build metadata: `1.0.0+20230615`",
      "type": "string"
    },
    "webhooks": {
      "$ref": "#/$defs/config_WebhooksConfig",
      "description": "Webhooks configures webhook processing and validation settings.\n\n$ref: schema://application#webhooks"
    },
    "worker": {
      "$ref": "#/$defs/config_WorkerConfig",
      "description": "Worker configures Temporal worker settings.\n\n$ref: schema://application#worker"
    },
    "workflows": {
      "description": "Workflows defines the list of workflow files that compose this project's AI capabilities.",
      "items": {
        "$ref": "#/$defs/WorkflowSourceConfig"
      },
      "type": "array"
    }
  },
  "title": "Compozy Unified Configuration",
  "type": "object"
}
