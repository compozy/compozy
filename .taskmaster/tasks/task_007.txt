# Task ID: 7
# Title: Implement Recursive GetTaskTree Method
# Status: done
# Dependencies: 6
# Priority: medium
# Description: Create repository method for recursive task tree retrieval using PostgreSQL CTE
# Details:
Implement recursive query using PostgreSQL Common Table Expressions (CTE):
```go
func (r *Repository) GetTaskTree(ctx context.Context, rootID core.ID) ([]*State, error) {
    query := `
        WITH RECURSIVE task_tree AS (
            SELECT * FROM task_states WHERE task_exec_id = $1
            UNION ALL
            SELECT ts.* FROM task_states ts
            INNER JOIN task_tree tt ON ts.parent_state_id = tt.task_exec_id
        )
        SELECT * FROM task_tree ORDER BY created_at
    `
    // Implementation similar to ListChildren but with CTE
}
```
Ensure proper handling of circular references and depth limits to prevent infinite recursion.

# Test Strategy:
Test with simple parent-child relationships, test with deep nesting, test with multiple children per parent, performance testing with large task trees, test circular reference detection
