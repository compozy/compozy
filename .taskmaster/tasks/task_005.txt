# Task ID: 5
# Title: Update Repository INSERT/UPDATE Queries
# Status: done
# Dependencies: 1, 3
# Priority: high
# Description: Modify all database queries in the repository layer to include parent_state_id column
# Details:
Update repository methods to handle the new parent_state_id column:
1. Modify UpsertState method to include parent_state_id in INSERT/UPDATE statements
2. Update all SELECT queries to include the new column
3. Remove any JSONB operations related to parallel_state column
4. Use proper NULL handling for parent_state_id (use sql.NullString or similar)
5. Update query builders if using libraries like squirrel or similar
6. Ensure proper parameter binding for prepared statements
Example: `INSERT INTO task_states (..., parent_state_id) VALUES (..., $n)`

# Test Strategy:
Integration tests with database, test INSERT/UPDATE operations with and without parent_state_id, verify NULL handling, test foreign key constraint violations
